<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from docs/uri.rst
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Apr 19 07:14:27 2023 UTC.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: Connection URIs</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript" src="js/main.js">
      <!--// forces non-empty element-->
    </script>
  </head>
  <body onload="pageload()">
    <div id="body">
      <div class="document" id="connection-uris">
<h1>Connection URIs</h1>

<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#specifying-uris-to-libvirt" id="id1">Specifying URIs to libvirt</a></p></li>
<li><p><a class="reference internal" href="#configuring-uri-aliases" id="id2">Configuring URI aliases</a></p></li>
<li><p><a class="reference internal" href="#default-uri-choice" id="id3">Default URI choice</a></p></li>
<li><p><a class="reference internal" href="#specifying-uris-to-virsh-virt-manager-and-virt-install" id="id4">Specifying URIs to virsh, virt-manager and virt-install</a></p></li>
<li><p><a class="reference internal" href="#local-hypervisor-uris" id="id5">Local hypervisor URIs</a></p>
<ul>
<li><p><a class="reference internal" href="#xen-system-uri" id="id6">xen:///system URI</a></p></li>
<li><p><a class="reference internal" href="#qemu-qemu-and-kvm-uris" id="id7">qemu:///... QEMU and KVM URIs</a></p></li>
<li><p><a class="reference internal" href="#test-test-uris" id="id8">test:///... Test URIs</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#remote-uris" id="id9">Remote URIs</a></p>
<ul>
<li><p><a class="reference internal" href="#transport-configuration" id="id10">Transport configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#ssh-transport" id="id11"><span class="docutils literal">ssh</span> transport</a></p></li>
<li><p><a class="reference internal" href="#libssh-and-libssh2-transport" id="id12"><span class="docutils literal">libssh</span> and <span class="docutils literal">libssh2</span> transport</a></p></li>
<li><p><a class="reference internal" href="#tls-transport" id="id13"><span class="docutils literal">tls</span> transport</a></p></li>
<li><p><a class="reference internal" href="#unix-transport" id="id14"><span class="docutils literal">unix</span> transport</a></p></li>
<li><p><a class="reference internal" href="#ext-transport" id="id15"><span class="docutils literal">ext</span> transport</a></p></li>
<li><p><a class="reference internal" href="#tcp-transport" id="id16"><span class="docutils literal">tcp</span> transport</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#common-extra-parameters" id="id17">Common extra parameters</a></p>
<ul>
<li><p><a class="reference internal" href="#mode-parameter" id="id18"><span class="docutils literal">mode</span> parameter</a></p></li>
<li><p><a class="reference internal" href="#proxy-parameter" id="id19"><span class="docutils literal">proxy</span> parameter</a></p></li>
<li><p><a class="reference internal" href="#socket-parameter" id="id20"><span class="docutils literal">socket</span> parameter</a></p></li>
<li><p><a class="reference internal" href="#netcat-parameter" id="id21"><span class="docutils literal">netcat</span> parameter</a></p></li>
<li><p><a class="reference internal" href="#keyfile-parameter" id="id22"><span class="docutils literal">keyfile</span> parameter</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>Since libvirt supports many different kinds of virtualization (often referred to
as "drivers" or "hypervisors"), we need a way to be able to specify which driver
a connection refers to. Additionally we may want to refer to a driver on a
remote machine over the network.</p>
<p>To this end, libvirt uses URIs as used on the Web and as defined in <a class="reference external" href="https://www.ietf.org/rfc/rfc2396.txt">RFC
2396</a>. This page documents libvirt
URIs.</p>
<div class="section" id="specifying-uris-to-libvirt">
<h1><a class="toc-backref" href="#id1">Specifying URIs to libvirt</a><a class="headerlink" href="#specifying-uris-to-libvirt" title="Link to this headline">¶</a></h1>
<p>The URI is passed as the <span class="docutils literal">name</span> parameter to
<a class="reference external" href="html/libvirt-libvirt-host.html#virConnectOpen">virConnectOpen</a> or
<a class="reference external" href="html/libvirt-libvirt-host.html#virConnectOpenReadOnly">virConnectOpenReadOnly</a>
. For example:</p>
<pre class="literal-block">virConnectPtr conn = virConnectOpenReadOnly ("test:///default");</pre>
</div>
<div class="section" id="configuring-uri-aliases">
<h1><a class="toc-backref" href="#id2">Configuring URI aliases</a><a class="headerlink" href="#configuring-uri-aliases" title="Link to this headline">¶</a></h1>
<p>To simplify life for administrators, it is possible to setup URI aliases in a
libvirt client configuration file. The configuration file is
<span class="docutils literal">/etc/libvirt/libvirt.conf</span> for the root user, or
<span class="docutils literal">$XDG_CONFIG_HOME/libvirt/libvirt.conf</span> for any unprivileged user. In this
file, the following syntax can be used to setup aliases</p>
<pre class="literal-block">uri_aliases = [
  "hail=qemu+ssh://root@hail.cloud.example.com/system",
  "sleet=qemu+ssh://root@sleet.cloud.example.com/system",
]</pre>
<p>A URI alias should be a string made up from the characters <span class="docutils literal"><span class="pre">a-Z,</span> <span class="pre">0-9,</span> _, -</span>.
Following the <span class="docutils literal">=</span> can be any libvirt URI string, including arbitrary URI
parameters. URI aliases will apply to any application opening a libvirt
connection, unless it has explicitly passed the <span class="docutils literal">VIR_CONNECT_NO_ALIASES</span>
parameter to <span class="docutils literal">virConnectOpenAuth</span>. If the passed in URI contains characters
outside the allowed alias character set, no alias lookup will be attempted.</p>
</div>
<div class="section" id="default-uri-choice">
<h1><a class="toc-backref" href="#id3">Default URI choice</a><a class="headerlink" href="#default-uri-choice" title="Link to this headline">¶</a></h1>
<p>If the URI passed to <span class="docutils literal">virConnectOpen*</span> is NULL or empty string, then libvirt
will use the following logic to determine what URI to use.</p>
<ol class="arabic simple">
<li><p>The environment variable <span class="docutils literal">LIBVIRT_DEFAULT_URI</span></p></li>
<li><p>The client configuration file <span class="docutils literal">uri_default</span> parameter</p></li>
<li><p>Probe each hypervisor in turn until one that works is found</p></li>
</ol>
<p>Historically an empty URI was equivalent to <span class="docutils literal"><span class="pre">xen:///system</span></span>.</p>
</div>
<div class="section" id="specifying-uris-to-virsh-virt-manager-and-virt-install">
<h1><a class="toc-backref" href="#id4">Specifying URIs to virsh, virt-manager and virt-install</a><a class="headerlink" href="#specifying-uris-to-virsh-virt-manager-and-virt-install" title="Link to this headline">¶</a></h1>
<p>In virsh use the <span class="docutils literal"><span class="pre">-c</span></span> or <span class="docutils literal"><span class="pre">--connect</span></span> option:</p>
<pre class="literal-block">virsh -c test:///default list</pre>
<p>If virsh finds the environment variable <span class="docutils literal">VIRSH_DEFAULT_CONNECT_URI</span> set, it
will try this URI by default. Use of this environment variable is, however,
deprecated now that libvirt supports <span class="docutils literal">LIBVIRT_DEFAULT_URI</span> itself.</p>
<p>When using the interactive virsh shell, you can also use the <span class="docutils literal">connect</span> <em>URI</em>
command to reconnect to another hypervisor.</p>
<p>In virt-manager use the <span class="docutils literal"><span class="pre">-c</span></span> or <span class="docutils literal"><span class="pre">--connect=</span></span><em>URI</em> option:</p>
<pre class="literal-block">virt-manager -c test:///default</pre>
<p>In virt-install use the <span class="docutils literal"><span class="pre">--connect=</span></span><em>URI</em> option:</p>
<pre class="literal-block">virt-install --connect=test:///default [other options]</pre>
</div>
<div class="section" id="local-hypervisor-uris">
<h1><a class="toc-backref" href="#id5">Local hypervisor URIs</a><a class="headerlink" href="#local-hypervisor-uris" title="Link to this headline">¶</a></h1>
<div class="section" id="xen-system-uri">
<h2><a class="toc-backref" href="#id6">xen:///system URI</a><a class="headerlink" href="#xen-system-uri" title="Link to this headline">¶</a></h2>
<p>To access a Xen hypervisor running on the local machine use the URI
<span class="docutils literal"><span class="pre">xen:///system</span></span>.</p>
<p>Historically libvirt 0.2.2 and previous versions required to use the name
<span class="docutils literal">"xen"</span> to refer to the Xen hypervisor.</p>
</div>
<div class="section" id="qemu-qemu-and-kvm-uris">
<h2><a class="toc-backref" href="#id7">qemu:///... QEMU and KVM URIs</a><a class="headerlink" href="#qemu-qemu-and-kvm-uris" title="Link to this headline">¶</a></h2>
<p>To use QEMU support in libvirt you must be running the <span class="docutils literal">libvirtd</span> daemon
(named <span class="docutils literal">libvirt_qemud</span> in releases prior to 0.3.0). The purpose of this daemon
is to manage qemu instances.</p>
<p>The <span class="docutils literal">libvirtd</span> daemon should be started by the init scripts when the machine
boots. It should appear as a process <span class="docutils literal">libvirtd <span class="pre">--daemon</span></span> running as root in
the background and will handle qemu instances on behalf of all users of the
machine (among other things).</p>
<p>So to connect to the daemon, one of two different URIs is used:</p>
<ul class="simple">
<li><p><span class="docutils literal"><span class="pre">qemu:///system</span></span> connects to a system mode daemon.</p></li>
<li><p><span class="docutils literal"><span class="pre">qemu:///session</span></span> connects to a session mode daemon.</p></li>
</ul>
<p>(If you do <span class="docutils literal">libvirtd <span class="pre">--help</span></span>, the daemon will print out the paths of the Unix
domain socket(s) that it listens on in the various different modes).</p>
<p>KVM URIs are identical. You select between qemu, qemu accelerated and KVM guests
in the <a class="reference external" href="drvqemu.html#example-domain-xml-config">guest XML as described here</a>.</p>
</div>
<div class="section" id="test-test-uris">
<h2><a class="toc-backref" href="#id8">test:///... Test URIs</a><a class="headerlink" href="#test-test-uris" title="Link to this headline">¶</a></h2>
<p>The test driver is a dummy hypervisor for test purposes. The URIs supported are:</p>
<ul class="simple">
<li><p><span class="docutils literal"><span class="pre">test:///default</span></span> connects to a default set of host definitions built into
the driver.</p></li>
<li><p><span class="docutils literal"><span class="pre">test:///path/to/host/definitions</span></span> connects to a set of host definitions
held in the named file.</p></li>
</ul>
</div>
</div>
<div class="section" id="remote-uris">
<h1><a class="toc-backref" href="#id9">Remote URIs</a><a class="headerlink" href="#remote-uris" title="Link to this headline">¶</a></h1>
<p>Remote URIs have the general form ("[...]" meaning an optional part):</p>
<pre class="literal-block">driver[+transport]://[username@][hostname][:port]/[path][?extraparameters]</pre>
<p>Either the transport or the hostname must be given in order to distinguish this
from a local URI.</p>
<p>Some examples:</p>
<ul class="simple">
<li><p><span class="docutils literal"><span class="pre">xen+ssh://rjones@towada/system</span></span>
— Connect to a remote Xen hypervisor on host <span class="docutils literal">towada</span> using ssh transport
and ssh username <span class="docutils literal">rjones</span>.</p></li>
<li><p><span class="docutils literal"><span class="pre">xen://towada/system</span></span>
— Connect to a remote Xen hypervisor on host <span class="docutils literal">towada</span> using TLS.</p></li>
<li><p><span class="docutils literal"><span class="pre">xen://towada/system?no_verify=1</span></span>
— Connect to a remote Xen hypervisor on host <span class="docutils literal">towada</span> using TLS. Do not
verify the server's certificate.</p></li>
<li><p><span class="docutils literal"><span class="pre">qemu+unix:///system?socket=/opt/libvirt/run/libvirt/libvirt-sock</span></span>
— Connect to the local qemu instances over a non-standard Unix socket (the
full path to the Unix socket is supplied explicitly in this case).</p></li>
<li><p><span class="docutils literal"><span class="pre">test+tcp://localhost:5000/default</span></span>
— Connect to a libvirtd daemon offering unencrypted TCP/IP connections on
localhost port 5000 and use the test driver with default settings.</p></li>
<li><p><span class="docutils literal"><span class="pre">qemu+libssh2://user@host/system?known_hosts=/home/user/.ssh/known_hosts</span></span>
— Connect to a remote host using a ssh connection with the libssh2 driver and
use a different known_hosts file.</p></li>
<li><p><span class="docutils literal"><span class="pre">qemu+libssh://user@host/system?known_hosts=/home/user/.ssh/known_hosts</span></span>
— Connect to a remote host using a ssh connection with the libssh driver and
use a different known_hosts file.</p></li>
</ul>
<div class="section" id="transport-configuration">
<h2><a class="toc-backref" href="#id10">Transport configuration</a><a class="headerlink" href="#transport-configuration" title="Link to this headline">¶</a></h2>
<p>The remote driver supports multiple transport protocols and approaches which are
configurable via the URI.</p>
<p>Extra parameters can be added to remote URIs as part of the query string (the
part following <span class="docutils literal">?</span>). Remote URIs understand the extra parameters shown
below. Any others are passed unmodified through to the back end. Note that
parameter values must be
<a class="reference external" href="https://gnome.pages.gitlab.gnome.org/libxml2/devhelp/libxml2-uri.html#xmlURIEscapeStr">URI-escaped</a>.</p>
<p>All transports support the following parameters:</p>
<blockquote>
<p><span class="docutils literal">name</span></p>
<blockquote>
<p>The name passed to the remote <span class="docutils literal">virConnectOpen</span> function. The name is
normally formed by removing transport, hostname, port number, username and
extra parameters from the remote URI, but in certain very complex cases it
may be better to supply the name explicitly.</p>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">name=qemu:///system</span></span></p>
</blockquote>
</blockquote>
<div class="section" id="ssh-transport">
<h3><a class="toc-backref" href="#id11"><span class="docutils literal">ssh</span> transport</a><a class="headerlink" href="#ssh-transport" title="Link to this headline">¶</a></h3>
<p>The <span class="docutils literal">ssh</span> transport uses the standard SSH protocol via the system installed
binary.</p>
<p>Supported extra parameters:</p>
<blockquote>
<dl>
<dt><span class="docutils literal">mode</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#mode-parameter">mode parameter</a>.</p>
</dd>
<dt><span class="docutils literal">proxy</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#proxy-parameter">proxy parameter</a>.</p>
</dd>
<dt><span class="docutils literal">command</span></dt>
<dd><p>Path to the <span class="docutils literal">ssh</span> binary to use.</p>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">command=/opt/openssh/bin/ssh</span></span></p>
</dd>
<dt><span class="docutils literal">socket</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#socket-parameter">socket parameter</a>.</p>
</dd>
<dt><span class="docutils literal">netcat</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#netcat-parameter">netcat parameter</a>.</p>
</dd>
<dt><span class="docutils literal">keyfile</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#keyfile-parameter">keyfile parameter</a>.</p>
</dd>
<dt><span class="docutils literal">no_verify</span></dt>
<dd><p>If set to a non-zero value, this disables client's strict host key checking
making it auto-accept new host keys. Existing host keys will still be
validated.</p>
<p><strong>Example:</strong> <span class="docutils literal">no_verify=1</span></p>
</dd>
<dt><span class="docutils literal">no_tty</span></dt>
<dd><p>If set to a non-zero value, this stops ssh from asking for a password if it
cannot log in to the remote machine automatically (eg. using ssh-agent
etc.). Use this when you don't have access to a terminal - for example in
graphical programs which use libvirt.</p>
<p><strong>Example:</strong> <span class="docutils literal">no_tty=1</span></p>
</dd>
</dl>
</blockquote>
</div>
<div class="section" id="libssh-and-libssh2-transport">
<h3><a class="toc-backref" href="#id12"><span class="docutils literal">libssh</span> and <span class="docutils literal">libssh2</span> transport</a><a class="headerlink" href="#libssh-and-libssh2-transport" title="Link to this headline">¶</a></h3>
<p>Same as the <span class="docutils literal">ssh</span> transport but the SSH client is handled directly by using
either <span class="docutils literal">libssh</span> or <span class="docutils literal">libssh2</span> to handle the SSH protocol without spawning an
extra process.</p>
<p>Supported extra parameters:</p>
<blockquote>
<dl>
<dt><span class="docutils literal">mode</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#mode-parameter">mode parameter</a>.</p>
</dd>
<dt><span class="docutils literal">proxy</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#proxy-parameter">proxy parameter</a>.</p>
</dd>
<dt><span class="docutils literal">socket</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#socket-parameter">socket parameter</a>.</p>
</dd>
<dt><span class="docutils literal">netcat</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#netcat-parameter">netcat parameter</a>.</p>
</dd>
<dt><span class="docutils literal">keyfile</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#keyfile-parameter">keyfile parameter</a>.</p>
</dd>
<dt><span class="docutils literal">known_hosts</span></dt>
<dd><p>Path to the known_hosts file to verify the host key against. LibSSH2 and
libssh support OpenSSH-style known_hosts files, although LibSSH2 does not
support all key types, so using files created by the OpenSSH binary may
result into truncating the known_hosts file. Thus, with LibSSH2 it's
recommended to use the default known_hosts file is located in libvirt's
client local configuration directory e.g.: ~/.conf ig/libvirt/known_hosts.</p>
<p><em>Note:</em> Use absolute paths.</p>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">known_hosts=/root/.ssh/known_hosts</span></span></p>
</dd>
<dt><span class="docutils literal">known_hosts_verify</span></dt>
<dd><p>If set to <span class="docutils literal">normal</span> (default), then the user will be asked to accept new
host keys.  If set to <span class="docutils literal">auto</span>, new host keys will be auto-accepted, but
existing host keys will still be validated. If set to <span class="docutils literal">ignore</span>, this
disables client's strict host key checking.</p>
<p><strong>Example:</strong> <span class="docutils literal">known_hosts_verify=ignore</span></p>
</dd>
<dt><span class="docutils literal">sshauth</span></dt>
<dd><p>A comma separated list of authentication methods to use. Default (is
"agent,privkey,password ,keyboard-interactive".  The order of the methods
is preserved.  Some methods may require additional parameters.</p>
<p><strong>Example:</strong> <span class="docutils literal">sshauth=privkey,agent</span></p>
</dd>
</dl>
</blockquote>
</div>
<div class="section" id="tls-transport">
<h3><a class="toc-backref" href="#id13"><span class="docutils literal">tls</span> transport</a><a class="headerlink" href="#tls-transport" title="Link to this headline">¶</a></h3>
<p>This transport uses a TCP connection to the socket. The data is encrypted using
TLS to ensure security. Note that TLS certificates must be setup for this to
work.</p>
<p>Supported extra parameters:</p>
<blockquote>
<dl>
<dt><span class="docutils literal">tls_priority</span></dt>
<dd><p>A valid GNUTLS priority string.</p>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">tls_priority=NORMAL:-VERS-SSL3.0</span></span></p>
</dd>
<dt><span class="docutils literal">no_verify</span></dt>
<dd><p>If set to a non-zero value, this disables client checks of the server's
certificate. Note that to disable server checks of the client's certificate
or IP address you must <a class="reference external" href="remote.html#libvirtd-configuration-file">change the libvirtd configuration</a></p>
<p><strong>Example:</strong> <span class="docutils literal">no_verify=1</span></p>
</dd>
</dl>
<p><span class="docutils literal">pkipath</span></p>
<blockquote>
<p>Specifies x509 certificates path for the client. If any of the CA
certificate, client certificate, or client key is missing, the connection
will fail with a fatal error.</p>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">pkipath=/tmp/pki/client</span></span></p>
</blockquote>
</blockquote>
</div>
<div class="section" id="unix-transport">
<h3><a class="toc-backref" href="#id14"><span class="docutils literal">unix</span> transport</a><a class="headerlink" href="#unix-transport" title="Link to this headline">¶</a></h3>
<p>This transport uses an unix domain socket is used to connect to the daemon.
This is the most common case. In most cases no extra parameters are needed.</p>
<p>Supported extra parameters:</p>
<blockquote>
<dl class="simple">
<dt><span class="docutils literal">mode</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#mode-parameter">mode parameter</a>.</p>
</dd>
<dt><span class="docutils literal">socket</span></dt>
<dd><p>See the info on the <a class="reference internal" href="#socket-parameter">socket parameter</a>.</p>
</dd>
</dl>
</blockquote>
</div>
<div class="section" id="ext-transport">
<h3><a class="toc-backref" href="#id15"><span class="docutils literal">ext</span> transport</a><a class="headerlink" href="#ext-transport" title="Link to this headline">¶</a></h3>
<p>The <span class="docutils literal">ext</span> transport invokes the user specified command to transport the
libvirt RPC protocol to the destination. The command must be able to handle
the proper connection. Standard input/output is used for the communication.</p>
<p>Supported extra parameters:</p>
<blockquote>
<dl class="simple">
<dt><span class="docutils literal">command</span></dt>
<dd><p>The external command launched to tunnel the data to the destination.</p>
</dd>
</dl>
</blockquote>
</div>
<div class="section" id="tcp-transport">
<h3><a class="toc-backref" href="#id16"><span class="docutils literal">tcp</span> transport</a><a class="headerlink" href="#tcp-transport" title="Link to this headline">¶</a></h3>
<p>The <span class="docutils literal">tcp</span> transport uses plain unencrypted TCP connection to libvirt. This
is insecure and should not be used. This transport has no additional arguments.</p>
</div>
</div>
<div class="section" id="common-extra-parameters">
<h2><a class="toc-backref" href="#id17">Common extra parameters</a><a class="headerlink" href="#common-extra-parameters" title="Link to this headline">¶</a></h2>
<p>Certain extra parameters are shared between multiple protocols. See the list of
transport protocols above for specific usage.</p>
<div class="section" id="mode-parameter">
<h3><a class="toc-backref" href="#id18"><span class="docutils literal">mode</span> parameter</a><a class="headerlink" href="#mode-parameter" title="Link to this headline">¶</a></h3>
<p>Controls whether to connect to per-driver daemons or libvirtd.</p>
<p>Supported values:</p>
<blockquote>
<dl class="simple">
<dt><span class="docutils literal">auto</span></dt>
<dd><p>automatically determine the daemon</p>
</dd>
<dt><span class="docutils literal">direct</span></dt>
<dd><p>connect to per-driver daemons</p>
</dd>
<dt><span class="docutils literal">legacy</span></dt>
<dd><p>connect to libvirtd</p>
</dd>
</dl>
</blockquote>
<p>Default is <span class="docutils literal">auto</span>. Can also be set in <span class="docutils literal">libvirt.conf</span> as <span class="docutils literal">remote_mode</span>.</p>
<p><strong>Example:</strong> <span class="docutils literal">mode=direct</span></p>
</div>
<div class="section" id="proxy-parameter">
<h3><a class="toc-backref" href="#id19"><span class="docutils literal">proxy</span> parameter</a><a class="headerlink" href="#proxy-parameter" title="Link to this headline">¶</a></h3>
<p>Controls which proxy binary is used on the remote side of connection to connect
to the daemon.</p>
<p>Supported values:</p>
<blockquote>
<dl class="simple">
<dt><span class="docutils literal">auto</span></dt>
<dd><p>try native, fallback to netcat</p>
</dd>
<dt><span class="docutils literal">netcat</span></dt>
<dd><p>only use netcat</p>
</dd>
<dt><span class="docutils literal">native</span></dt>
<dd><p>use the libvirt native proxy binary</p>
</dd>
</dl>
</blockquote>
<p>Default is <span class="docutils literal">auto</span>. Can also be set in <span class="docutils literal">libvirt.conf</span> as <span class="docutils literal">remote_proxy</span>.</p>
<p><strong>Example:</strong> <span class="docutils literal">proxy=native</span></p>
</div>
<div class="section" id="socket-parameter">
<h3><a class="toc-backref" href="#id20"><span class="docutils literal">socket</span> parameter</a><a class="headerlink" href="#socket-parameter" title="Link to this headline">¶</a></h3>
<p>The path to the Unix domain socket, which overrides the compiled-in default.
This may be passed to the remote proxy command (See. <cite>proxy parameter</cite>).</p>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">socket=/opt/libvirt/run/libvirt/libvirt-sock</span></span></p>
</div>
<div class="section" id="netcat-parameter">
<h3><a class="toc-backref" href="#id21"><span class="docutils literal">netcat</span> parameter</a><a class="headerlink" href="#netcat-parameter" title="Link to this headline">¶</a></h3>
<p>The name of the netcat command on the remote machine. The default is <span class="docutils literal">nc</span>.
This is not permitted when using the <span class="docutils literal">native</span> proxy mode.</p>
<p>The command used here is used on the remote side of the connection as:</p>
<blockquote>
<p><span class="docutils literal">netcat <span class="pre">-U</span> socket</span></p>
</blockquote>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">netcat=/opt/netcat/bin/nc</span></span></p>
</div>
<div class="section" id="keyfile-parameter">
<h3><a class="toc-backref" href="#id22"><span class="docutils literal">keyfile</span> parameter</a><a class="headerlink" href="#keyfile-parameter" title="Link to this headline">¶</a></h3>
<p>The name of the private key file to use to authentication to the remote
machine. If this option is not used the default keys are used.</p>
<p><strong>Example:</strong> <span class="docutils literal"><span class="pre">keyfile=/root/.ssh/example_key</span></span></p>
</div>
</div>
</div>
</div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="downloads.html">Download</a>
          </li>
          <li>
            <a href="contribute.html">Contribute</a>
          </li>
          <li>
            <a href="docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form id="simplesearch" action="https://www.google.com/search" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input id="searchsite" name="sitesearch" type="hidden" value="libvirt.org"/>
            <input id="searchq" name="q" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
        <div id="advancedsearch">
          <span>
            <input type="radio" name="what" id="whatwebsite" checked="checked" value="website"/>
            <label for="whatwebsite">Website</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatwiki" value="wiki"/>
            <label for="whatwiki">Wiki</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatdevs" value="devs"/>
            <label for="whatdevs">Developers list</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatusers" value="users"/>
            <label for="whatusers">Users list</label>
          </span>
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="contact.html#mailing-lists">email</a>
          </li>
          <li>
            <a href="contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="https://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="contribute">
        <h3>Contribute</h3>
        <ul>
          <li>
            <a href="https://gitlab.com/libvirt/libvirt/-/blob/master/docs/uri.rst">edit this page</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="governance.html#code-of-conduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
