<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from docs/formatnode.rst
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Apr 19 07:14:27 2023 UTC.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: Node devices XML format</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript" src="js/main.js">
      <!--// forces non-empty element-->
    </script>
  </head>
  <body onload="pageload()">
    <div id="body">
      <div class="document" id="node-devices-xml-format">
<h1>Node devices XML format</h1>

<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#node-device-xml" id="id1">Node Device XML</a></p>
<ul>
<li><p><a class="reference internal" href="#capability-types" id="id2"><span class="docutils literal">capability</span> types</a></p>
<ul>
<li><p><a class="reference internal" href="#system" id="id3"><span class="docutils literal">system</span></a></p></li>
<li><p><a class="reference internal" href="#pci" id="id4"><span class="docutils literal">pci</span></a></p></li>
<li><p><a class="reference internal" href="#usb-device" id="id5"><span class="docutils literal">usb_device</span></a></p></li>
<li><p><a class="reference internal" href="#usb" id="id6"><span class="docutils literal">usb</span></a></p></li>
<li><p><a class="reference internal" href="#net" id="id7"><span class="docutils literal">net</span></a></p></li>
<li><p><a class="reference internal" href="#scsi-host" id="id8"><span class="docutils literal">scsi_host</span></a></p></li>
<li><p><a class="reference internal" href="#scsi" id="id9"><span class="docutils literal">scsi</span></a></p></li>
<li><p><a class="reference internal" href="#storage" id="id10"><span class="docutils literal">storage</span></a></p></li>
<li><p><a class="reference internal" href="#drm" id="id11"><span class="docutils literal">drm</span></a></p></li>
<li><p><a class="reference internal" href="#mdev" id="id12"><span class="docutils literal">mdev</span></a></p></li>
<li><p><a class="reference internal" href="#ccw" id="id13"><span class="docutils literal">ccw</span></a></p></li>
<li><p><a class="reference internal" href="#css" id="id14"><span class="docutils literal">css</span></a></p></li>
<li><p><a class="reference internal" href="#vdpa" id="id15"><span class="docutils literal">vdpa</span></a></p></li>
<li><p><a class="reference internal" href="#ap-card" id="id16"><span class="docutils literal">ap_card</span></a></p></li>
<li><p><a class="reference internal" href="#ap-queue" id="id17"><span class="docutils literal">ap_queue</span></a></p></li>
<li><p><a class="reference internal" href="#ap-matrix" id="id18"><span class="docutils literal">ap_matrix</span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mdev-types-capability" id="id19"><span class="docutils literal">mdev_types</span> capability</a></p></li>
<li><p><a class="reference internal" href="#vpd-capability" id="id20"><span class="docutils literal">vpd</span> capability</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#examples" id="id21">Examples</a></p></li>
</ul>
</div>
<div class="section" id="node-device-xml">
<h1><a class="toc-backref" href="#id1">Node Device XML</a><a class="headerlink" href="#node-device-xml" title="Link to this headline">¶</a></h1>
<p>There are several libvirt functions, all with the prefix <span class="docutils literal">virNodeDevice</span>,
which deal with management of host devices that can be handed to guests via
passthrough as &lt;hostdev&gt; elements in <a class="reference external" href="formatdomain.html#host-device-assignment">the domain
XML</a>. These devices are represented as a
hierarchy, where a device on a bus has a parent of the bus controller device;
the root of the hierarchy is the node named "computer".</p>
<p>When represented in XML, a node device uses the top-level <span class="docutils literal">device</span> element,
with the following elements present according to the type of device:</p>
<dl class="simple">
<dt><span class="docutils literal">name</span></dt>
<dd><p>The name for this device. The name will be alphanumeric, with words separated
by underscore. For many devices, the name is just the bus type and address,
as in "pci_0000_00_02_1" or "usb_1_5_3", but some devices are able to provide
more specific names, such as "net_eth1_00_27_13_6a_fe_00". This is a
read-only field that is reported by the device driver. If this element is set
when defining a new device, it will be ignored.</p>
</dd>
<dt><span class="docutils literal">path</span></dt>
<dd><p>Fully qualified sysfs path to the device. This is a read-only field that is
reported by the device driver. If this element is set when defining a new
device, it will be ignored.</p>
</dd>
<dt><span class="docutils literal">parent</span></dt>
<dd><p>This element identifies the parent node in the device hierarchy. The value of
the element will correspond with the device parent's <span class="docutils literal">name</span> element or
<span class="docutils literal">computer</span> if the device does not have any parent.</p>
</dd>
<dt><span class="docutils literal">driver</span></dt>
<dd><p>This elements reports the driver in use for this device. The presence of this
element in the output XML depends on whether the underlying device manager
(most likely udev) exposes information about the driver.</p>
</dd>
<dt><span class="docutils literal">devnode</span></dt>
<dd><p>This node appears for each associated <span class="docutils literal">/dev</span> special file. A mandatory
attribute <span class="docutils literal">type</span> specify the kind of file path, which may be either <span class="docutils literal">dev</span>
for the main name, or <span class="docutils literal">link</span> for additional symlinks.</p>
</dd>
<dt><span class="docutils literal">capability</span></dt>
<dd><p>This node appears for each capability that libvirt associates with a node. A
mandatory attribute <span class="docutils literal">type</span> lists which category the device belongs to.
The <a class="reference internal" href="#capability-types">capability types</a> section below describes them further.</p>
</dd>
</dl>
<div class="section" id="capability-types">
<h2><a class="toc-backref" href="#id2"><span class="docutils literal">capability</span> types</a><a class="headerlink" href="#capability-types" title="Link to this headline">¶</a></h2>
<p>Based on the capbility type there are further more specific attributes to a
device described below.</p>
<div class="section" id="system">
<h3><a class="toc-backref" href="#id3"><span class="docutils literal">system</span></a><a class="headerlink" href="#system" title="Link to this headline">¶</a></h3>
<p>Describes the overall host. Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">product</span></dt>
<dd><p>If present, a simple text string giving the product name of the system.</p>
</dd>
<dt><span class="docutils literal">hardware</span></dt>
<dd><p>Describes the hardware of the system, including sub-elements for
<span class="docutils literal">vendor</span>, <span class="docutils literal">version</span>, <span class="docutils literal">serial</span>, and <span class="docutils literal">uuid</span>.</p>
</dd>
<dt><span class="docutils literal">firmware</span></dt>
<dd><p>Describes the firmware of the system, including sub-elements for
<span class="docutils literal">vendor</span>, <span class="docutils literal">version</span>, and <span class="docutils literal">release_date</span>.</p>
</dd>
</dl>
</div>
<div class="section" id="pci">
<h3><a class="toc-backref" href="#id4"><span class="docutils literal">pci</span></a><a class="headerlink" href="#pci" title="Link to this headline">¶</a></h3>
<p>Describes a device on the host's PCI bus. Sub-elements include:</p>
<dl>
<dt><span class="docutils literal">class</span></dt>
<dd><p>Optional element for combined class, subclass and programming interface
codes as 6-digit hexadecimal number. <span class="since">Since 5.2.0</span></p>
</dd>
<dt><span class="docutils literal">domain</span></dt>
<dd><p>Which domain the device belongs to.</p>
</dd>
<dt><span class="docutils literal">bus</span></dt>
<dd><p>Which bus within the domain.</p>
</dd>
<dt><span class="docutils literal">slot</span></dt>
<dd><p>Which slot within the bus.</p>
</dd>
<dt><span class="docutils literal">function</span></dt>
<dd><p>Which function within the slot.</p>
</dd>
<dt><span class="docutils literal">product</span></dt>
<dd><p>Product details from the device ROM, including an attribute <span class="docutils literal">id</span> with
the hexadecimal product id, and an optional text description of that
id.</p>
</dd>
<dt><span class="docutils literal">vendor</span></dt>
<dd><p>Vendor details from the device ROM, including an attribute <span class="docutils literal">id</span> with
the hexadecimal vendor id, and an optional text name of that vendor.</p>
</dd>
<dt><span class="docutils literal">iommuGroup</span></dt>
<dd><p>This optional element describes the "IOMMU group" this device belongs
to. If the element exists, it has a mandatory <span class="docutils literal">number</span> attribute
which tells the group number used for management of the group (all
devices in group "n" will be found in "/sys/kernel/iommu_groups/n"). It
will also have a list of <span class="docutils literal">address</span> subelements, each containing the
PCI address of a device in the same group. The toplevel device will
itself be included in this list.</p>
</dd>
<dt><span class="docutils literal">capability</span></dt>
<dd><p>This optional element can occur multiple times. If it exists, it has a
mandatory <span class="docutils literal">type</span> attribute which will be set to:</p>
<dl class="simple">
<dt><span class="docutils literal">phys_function</span></dt>
<dd><p>That means there will be a single <span class="docutils literal">address</span> subelement which
contains the PCI address of the SRIOV Physical Function (PF) that is
the parent of this device (and this device is, by implication, an
SRIOV Virtual Function (VF)).</p>
</dd>
<dt><span class="docutils literal">virt_functions</span></dt>
<dd><p>In this case this device is an SRIOV PF, and the capability element
will have a list of <span class="docutils literal">address</span> subelements, one for each VF on this
PF. If the host system supports reporting it (via the
"sriov_totalvfs" file in the device's sysfs directory) the
capability element will also have an attribute named <span class="docutils literal">maxCount</span>
which is the maximum number of SRIOV VFs supported by this device,
which could be higher than the number of VFs that are currently
active <span class="since">since 1.3.0</span> ; in this case, even if there are
currently no active VFs the virtual_functions capabililty will still
be shown.</p>
</dd>
<dt><span class="docutils literal"><span class="pre">pci-bridge</span></span> or <span class="docutils literal"><span class="pre">cardbus-bridge</span></span></dt>
<dd><p>This shows merely that the lower 7 bits of PCI header type have
either value of 1 or 2 respectively. Usually this means such device
cannot be used for PCI passthrough. <span class="since">Since 1.3.3</span></p>
</dd>
<dt><span class="docutils literal">mdev_types</span></dt>
<dd><p>This device is capable of creating mediated devices. The
sub-elements are summarized in <a class="reference internal" href="#mdev-types-capability">mdev_types capability</a>.</p>
</dd>
<dt><span class="docutils literal">vpd</span></dt>
<dd><p>This device exposes a VPD PCI/PCIe capability. The sub-elements are
summarized in <a class="reference internal" href="#vpd-capability">vpd capability</a>.</p>
</dd>
</dl>
</dd>
<dt><span class="docutils literal">numa</span></dt>
<dd><p>This optional element contains information on the PCI device with
respect to NUMA. For example, the optional <span class="docutils literal">node</span> attribute tells
which NUMA node is the PCI device associated with.</p>
</dd>
<dt><span class="docutils literal"><span class="pre">pci-express</span></span></dt>
<dd><p>This optional element contains information on PCI Express part of the
device. For example, it can contain a child element <span class="docutils literal">link</span> which
addresses the PCI Express device's link. While a device has its own
capabilities (<span class="docutils literal"><span class="pre">validity='cap'</span></span>), the actual run time capabilities are
negotiated on the device initialization (<span class="docutils literal"><span class="pre">validity='sta'</span></span>). The
<span class="docutils literal">link</span> element then contains three attributes: <span class="docutils literal">port</span> which says in
which port is the device plugged in, <span class="docutils literal">speed</span> (in GigaTransfers per
second) and <span class="docutils literal">width</span> for the number of lanes used. Since the port
can't be negotiated, it's not exposed in
<span class="docutils literal"><span class="pre">./pci-express/link/[`validity='sta']</span></span>.</p>
</dd>
</dl>
</div>
<div class="section" id="usb-device">
<h3><a class="toc-backref" href="#id5"><span class="docutils literal">usb_device</span></a><a class="headerlink" href="#usb-device" title="Link to this headline">¶</a></h3>
<p>Describes a device on the host's USB bus, based on its location within the bus.
Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">bus</span></dt>
<dd><p>Which bus the device belongs to.</p>
</dd>
<dt><span class="docutils literal">device</span></dt>
<dd><p>Which device within the bus.</p>
</dd>
<dt><span class="docutils literal">product</span></dt>
<dd><p>Product details from the device ROM, including an attribute <span class="docutils literal">id</span> with
the hexadecimal product id, and an optional text description of that
id.</p>
</dd>
<dt><span class="docutils literal">vendor</span></dt>
<dd><p>Vendor details from the device ROM, including an attribute <span class="docutils literal">id</span> with
the hexadecimal vendor id, and an optional text name of that vendor.</p>
</dd>
</dl>
</div>
<div class="section" id="usb">
<h3><a class="toc-backref" href="#id6"><span class="docutils literal">usb</span></a><a class="headerlink" href="#usb" title="Link to this headline">¶</a></h3>
<p>Describes a USB device, based on its advertised driver interface.  Sub-elements
include:</p>
<dl class="simple">
<dt><span class="docutils literal">number</span></dt>
<dd><p>The device number.</p>
</dd>
<dt><span class="docutils literal">class</span></dt>
<dd><p>The device class.</p>
</dd>
<dt><span class="docutils literal">subclass</span></dt>
<dd><p>The device subclass.</p>
</dd>
<dt><span class="docutils literal">protocol</span></dt>
<dd><p>The device protocol.</p>
</dd>
<dt><span class="docutils literal">description</span></dt>
<dd><p>If present, a description of the device.</p>
</dd>
</dl>
</div>
<div class="section" id="net">
<h3><a class="toc-backref" href="#id7"><span class="docutils literal">net</span></a><a class="headerlink" href="#net" title="Link to this headline">¶</a></h3>
<p>Describes a device capable for use as a network interface. Sub-elements
include:</p>
<dl>
<dt><span class="docutils literal">interface</span></dt>
<dd><p>The interface name tied to this device.</p>
</dd>
<dt><span class="docutils literal">address</span></dt>
<dd><p>If present, the MAC address of the device.</p>
</dd>
<dt><span class="docutils literal">link</span></dt>
<dd><p>Optional to reflect the status of the link. It has two optional
attributes: <span class="docutils literal">speed</span> in Mbits per second and <span class="docutils literal">state</span> to tell the
state of the link. So far, the whole element is just for output, not
setting.</p>
</dd>
<dt><span class="docutils literal">feature</span></dt>
<dd><p>If present, the hw offloads supported by this network interface.
Possible features are:</p>
<dl class="simple">
<dt><span class="docutils literal">rx</span></dt>
<dd><p>rx-checksumming</p>
</dd>
<dt><span class="docutils literal">tx</span></dt>
<dd><p>tx-checksumming</p>
</dd>
<dt><span class="docutils literal">sg</span></dt>
<dd><p>scatter-gather</p>
</dd>
<dt><span class="docutils literal">tso</span></dt>
<dd><p>tcp-segmentation-offload</p>
</dd>
<dt><span class="docutils literal">ufo</span></dt>
<dd><p>udp-fragmentation-offload</p>
</dd>
<dt><span class="docutils literal">gso</span></dt>
<dd><p>generic-segmentation-offload</p>
</dd>
<dt><span class="docutils literal">gro</span></dt>
<dd><p>generic-receive-offload</p>
</dd>
<dt><span class="docutils literal">lro</span></dt>
<dd><p>large-receive-offload</p>
</dd>
<dt><span class="docutils literal">rxvlan</span></dt>
<dd><p>rx-vlan-offload</p>
</dd>
<dt><span class="docutils literal">txvlan</span></dt>
<dd><p>tx-vlan-offload</p>
</dd>
<dt><span class="docutils literal">ntuple</span></dt>
<dd><p>ntuple-filters</p>
</dd>
<dt><span class="docutils literal">rxhash</span></dt>
<dd><p>receive-hashing</p>
</dd>
<dt><span class="docutils literal">rdma</span></dt>
<dd><p>remote-direct-memory-access</p>
</dd>
<dt><span class="docutils literal">txudptnl</span></dt>
<dd><p>tx-udp-tunnel-segmentation</p>
</dd>
<dt><span class="docutils literal">switchdev</span></dt>
<dd><p>kernel-forward-plane-offload</p>
</dd>
</dl>
</dd>
<dt><span class="docutils literal">capability</span></dt>
<dd><p>A network protocol exposed by the device, where the attribute <span class="docutils literal">type</span>
can be "80203" for IEEE 802.3, or "80211" for various flavors of IEEE
802.11.</p>
</dd>
</dl>
</div>
<div class="section" id="scsi-host">
<h3><a class="toc-backref" href="#id8"><span class="docutils literal">scsi_host</span></a><a class="headerlink" href="#scsi-host" title="Link to this headline">¶</a></h3>
<p>Describes a SCSI host device. Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">host</span></dt>
<dd><p>The SCSI host number.</p>
</dd>
<dt><span class="docutils literal">unique_id</span></dt>
<dd><p>On input, this optionally provides the value from the 'unique_id' file
found in the scsi_host's directory. To view the values of all
'unique_id' files, use
<span class="docutils literal">find <span class="pre">-H</span> <span class="pre">/sys/class/scsi_host/host{0..9}/unique_id</span> | xargs grep <span class="pre">'[0-9]'</span></span>.
On output, if the unique_id file exists, the value from the file will
be displayed. This can be used in order to help uniquely identify the
scsi_host adapter in a <a class="reference external" href="formatstorage.html">Storage Pool</a>.
<span class="since">Since 1.2.7</span></p>
</dd>
<dt><span class="docutils literal">capability</span></dt>
<dd><p>Current capabilities include "vports_ops" (indicates vport operations
are supported) and "fc_host". "vport_ops" could contain two optional
sub-elements: <span class="docutils literal">vports</span>, and <span class="docutils literal">max_vports</span>. <span class="docutils literal">vports</span> shows the
number of vport in use. <span class="docutils literal">max_vports</span> shows the maximum vports the HBA
supports. "fc_host" implies following sub-elements: <span class="docutils literal">wwnn</span>, <span class="docutils literal">wwpn</span>,
and optionally <span class="docutils literal">fabric_wwn</span>.</p>
</dd>
</dl>
</div>
<div class="section" id="scsi">
<h3><a class="toc-backref" href="#id9"><span class="docutils literal">scsi</span></a><a class="headerlink" href="#scsi" title="Link to this headline">¶</a></h3>
<p>Describes a SCSI device. Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">host</span></dt>
<dd><p>The SCSI host containing the device.</p>
</dd>
<dt><span class="docutils literal">bus</span></dt>
<dd><p>The bus within the host.</p>
</dd>
<dt><span class="docutils literal">target</span></dt>
<dd><p>The target within the bus.</p>
</dd>
<dt><span class="docutils literal">lun</span></dt>
<dd><p>The lun within the target.</p>
</dd>
<dt><span class="docutils literal">type</span></dt>
<dd><p>The type of SCSI device.</p>
</dd>
</dl>
</div>
<div class="section" id="storage">
<h3><a class="toc-backref" href="#id10"><span class="docutils literal">storage</span></a><a class="headerlink" href="#storage" title="Link to this headline">¶</a></h3>
<p>Describes a device usable for storage. Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">block</span></dt>
<dd><p>A block device file name that accesses the storage present on the
device.</p>
</dd>
<dt><span class="docutils literal">bus</span></dt>
<dd><p>If present, the name of the bus the device is found on.</p>
</dd>
<dt><span class="docutils literal">drive_type</span></dt>
<dd><p>The type of the drive, such as "disk" or "cdrom".</p>
</dd>
<dt><span class="docutils literal">model</span></dt>
<dd><p>Any model information available from the device.</p>
</dd>
<dt><span class="docutils literal">vendor</span></dt>
<dd><p>Any vendor information available from the device.</p>
</dd>
<dt><span class="docutils literal">serial</span></dt>
<dd><p>Any serial number information available from the device.</p>
</dd>
<dt><span class="docutils literal">size</span></dt>
<dd><p>For fixed-size storage, the amount of storage available.</p>
</dd>
<dt><span class="docutils literal">capability</span></dt>
<dd><p>If present, an additional capability is listed via the attribute
<span class="docutils literal">type</span>. Current capabilities include "hotpluggable" and "removable",
with the latter implying the following sub-elements:
<span class="docutils literal">media_available</span> (0 or 1), <span class="docutils literal">media_size</span>, and <span class="docutils literal">media_label</span>.</p>
</dd>
</dl>
</div>
<div class="section" id="drm">
<h3><a class="toc-backref" href="#id11"><span class="docutils literal">drm</span></a><a class="headerlink" href="#drm" title="Link to this headline">¶</a></h3>
<p>Describes a Direct Rendering Manager (DRM) device. Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">type</span></dt>
<dd><p>The type of DRM device. Could be <span class="docutils literal">primary</span>, <span class="docutils literal">control</span> or <span class="docutils literal">render</span>.</p>
</dd>
</dl>
</div>
<div class="section" id="mdev">
<h3><a class="toc-backref" href="#id12"><span class="docutils literal">mdev</span></a><a class="headerlink" href="#mdev" title="Link to this headline">¶</a></h3>
<p>Describes a mediated device. <span class="since">Since 3.4.0</span> Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">type</span></dt>
<dd><p>Describes a mediated device type which acts as an abstract template
defining a resource allocation for instances of this device type. The
element has one attribute <span class="docutils literal">id</span> which holds an official
vendor-supplied identifier for the type.</p>
</dd>
<dt><span class="docutils literal">iommuGroup</span></dt>
<dd><p>This element supports a single attribute <span class="docutils literal">number</span> which holds the
IOMMU group number to which the mediated device belongs. This is a
read-only field that is reported by the device driver.</p>
</dd>
<dt><span class="docutils literal">attr</span></dt>
<dd><p>This optional element can occur multiple times. It represents a
vendor-specific attribute that is used to configure this mediated
device. It has two required attributes: <span class="docutils literal">name</span> and <span class="docutils literal">value</span>. Note
that the order in which attributes are set may be important for some
devices. The order that they appear in the xml definition determines
the order that they will be written to the device.</p>
</dd>
<dt><span class="docutils literal">uuid</span></dt>
<dd><p>This element represents the UUID of the mediated device.</p>
</dd>
</dl>
</div>
<div class="section" id="ccw">
<h3><a class="toc-backref" href="#id13"><span class="docutils literal">ccw</span></a><a class="headerlink" href="#ccw" title="Link to this headline">¶</a></h3>
<p>Describes a Command Channel Word (CCW) device commonly found on the S390
architecture. Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">cssid</span></dt>
<dd><p>The channel subsystem identifier.</p>
</dd>
<dt><span class="docutils literal">ssid</span></dt>
<dd><p>The subchannel-set identifier.</p>
</dd>
<dt><span class="docutils literal">devno</span></dt>
<dd><p>The device number.</p>
</dd>
</dl>
</div>
<div class="section" id="css">
<h3><a class="toc-backref" href="#id14"><span class="docutils literal">css</span></a><a class="headerlink" href="#css" title="Link to this headline">¶</a></h3>
<p>Describes a subchannel in the Channel SubSystem (CSS) commonly found on the
S390 architecture. Sub-elements include:</p>
<dl>
<dt><span class="docutils literal">cssid</span></dt>
<dd><p>The channel subsystem identifier.</p>
</dd>
<dt><span class="docutils literal">ssid</span></dt>
<dd><p>The subchannel-set identifier.</p>
</dd>
<dt><span class="docutils literal">devno</span></dt>
<dd><p>The subchannel number.</p>
</dd>
<dt><span class="docutils literal">capability</span></dt>
<dd><p>This optional element can occur multiple times. If it exists, it has a
mandatory <span class="docutils literal">type</span> attribute which will be set to:</p>
<dl class="simple">
<dt><span class="docutils literal">mdev_types</span></dt>
<dd><p><span class="since">Since 6.10.0</span> This device is capable of creating mediated
devices. The sub-elements are summarized in <a class="reference internal" href="#mdev-types-capability">mdev_types capability</a>.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="vdpa">
<h3><a class="toc-backref" href="#id15"><span class="docutils literal">vdpa</span></a><a class="headerlink" href="#vdpa" title="Link to this headline">¶</a></h3>
<p>Describes a virtual datapath acceleration (vDPA) network device.  <span class="since">Since
6.9.0</span> . Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal">chardev</span></dt>
<dd><p>The path to the character device that is used to access the device.</p>
</dd>
</dl>
</div>
<div class="section" id="ap-card">
<h3><a class="toc-backref" href="#id16"><span class="docutils literal">ap_card</span></a><a class="headerlink" href="#ap-card" title="Link to this headline">¶</a></h3>
<p>Describes the Adjunct Processor (AP) Card device on a S390 host.  Sub-elements
include:</p>
<dl class="simple">
<dt><span class="docutils literal"><span class="pre">ap-adapter</span></span></dt>
<dd><p>AP Card identifier.</p>
</dd>
</dl>
</div>
<div class="section" id="ap-queue">
<h3><a class="toc-backref" href="#id17"><span class="docutils literal">ap_queue</span></a><a class="headerlink" href="#ap-queue" title="Link to this headline">¶</a></h3>
<p>Describes the AP queue on a s390 host. An AP queue is an AP domain on an AP
adapter which is specified by an adapter identifier and a domain identifier.
Sub-elements include:</p>
<dl class="simple">
<dt><span class="docutils literal"><span class="pre">ap-adapter</span></span></dt>
<dd><p>The ap-adapter of an AP queue identifies the AP card to which this AP
queue belongs.</p>
</dd>
<dt><span class="docutils literal"><span class="pre">ap-domain</span></span></dt>
<dd><p>The ap-domain of an AP queue identifies the AP domain to which this AP
queue belongs.
AP Queue identifier.</p>
</dd>
</dl>
</div>
<div class="section" id="ap-matrix">
<h3><a class="toc-backref" href="#id18"><span class="docutils literal">ap_matrix</span></a><a class="headerlink" href="#ap-matrix" title="Link to this headline">¶</a></h3>
<p>Describes an AP Matrix device on a S390 architecture providing cryptographic
host resources usable for virtualization. Sub-elements include:</p>
<dl>
<dt><span class="docutils literal">capability</span></dt>
<dd><p>This optional element can occur multiple times. If it exists, it has a
mandatory <span class="docutils literal">type</span> attribute which will be set to:</p>
<dl class="simple">
<dt><span class="docutils literal">mdev_types</span></dt>
<dd><p><span class="since">Since 6.10.0</span> This device is capable of creating mediated
devices. The sub-elements are summarized in <a class="reference internal" href="#mdev-types-capability">mdev_types capability</a></p>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="mdev-types-capability">
<h2><a class="toc-backref" href="#id19"><span class="docutils literal">mdev_types</span> capability</a><a class="headerlink" href="#mdev-types-capability" title="Link to this headline">¶</a></h2>
<p><a class="reference internal" href="#pci">pci</a>, <a class="reference internal" href="#css">css</a> and <a class="reference internal" href="#ap-matrix">ap_matrix</a> devices can be capable of creating mediated
devices. If they indeed are capable, then the parent <span class="docutils literal">capability</span> element for
<span class="docutils literal">mdev_types</span> type will contain a list of <span class="docutils literal">type</span> elements, which list all
mdev types supported on the physical device. <span class="since">Since 3.4.0</span> Each <span class="docutils literal">type</span>
element has a single <span class="docutils literal">id</span> attribute that holds an official vendor-supplied
identifier for the type. It supports the following sub-elements:</p>
<dl class="simple">
<dt><span class="docutils literal">name</span></dt>
<dd><p>The <span class="docutils literal">name</span> element holds a vendor-supplied code name for the given mediated
device type. This is an optional element.</p>
</dd>
<dt><span class="docutils literal">deviceAPI</span></dt>
<dd><p>The value of this element describes how an instance of the given type will be
presented to the guest by the VFIO framework.</p>
</dd>
<dt><span class="docutils literal">availableInstances</span></dt>
<dd><p>This element reports the current state of resource allocation. In other
words, how many instances of the given type can still be successfully created
on the physical device.</p>
</dd>
</dl>
</div>
<div class="section" id="vpd-capability">
<h2><a class="toc-backref" href="#id20"><span class="docutils literal">vpd</span> capability</a><a class="headerlink" href="#vpd-capability" title="Link to this headline">¶</a></h2>
<p><a class="reference internal" href="#pci">pci</a> devices can expose a VPD capability which is optional per
PCI Local Bus 2.2+ and PCIe 4.0+ specifications. If the VPD capability is
present, then the parent <span class="docutils literal">capability</span> element with the <span class="docutils literal">vpd</span> type will
contain a <span class="docutils literal">name</span> element (containing a manufacturer-provided device name) and
optionally one or two <span class="docutils literal">fields</span> elements with an <span class="docutils literal">access</span> attribute set to
<span class="docutils literal">readonly</span> or <span class="docutils literal">readwrite</span>.</p>
<p>The read-only <span class="docutils literal">fields</span> element may contain the following elements:</p>
<dl class="simple">
<dt><span class="docutils literal">change_level</span></dt>
<dd><p>An engineering change level for this add-in card.</p>
</dd>
<dt><span class="docutils literal">manufacture_id</span></dt>
<dd><p>An extension to the Vendor ID (or Subsystem Vendor ID) in the Configuration
Space header which allows vendors the flexibility to identify an additional
level of detail pertaining to the sourcing of a PCI device.</p>
</dd>
<dt><span class="docutils literal">part_number</span></dt>
<dd><p>An extension to the Device ID (or Subsystem ID) in the Configuration Space
header specifying a part number of an add-in card.</p>
</dd>
<dt><span class="docutils literal">serial_number</span></dt>
<dd><p>A unique add-in card Serial Number.</p>
</dd>
<dt><span class="docutils literal">vendor_field</span></dt>
<dd><p>Zero or many of those elements with an <span class="docutils literal">index</span> attribute (since-character
upper-case ASCII alphanumeric indexes). Contents will vary depending on a
vendor.</p>
</dd>
</dl>
<p>All fields are optional and are not guaranteed to be present for a generic PCI
device.</p>
<p>The read-write <span class="docutils literal">fields</span> element may contain the following elements:</p>
<dl class="simple">
<dt><span class="docutils literal">asset_tag</span></dt>
<dd><p>A system asset identifier provided by the system owner.</p>
</dd>
<dt><span class="docutils literal">vendor_field</span></dt>
<dd><p>Zero or many of those elements with an <span class="docutils literal">index</span> attribute (since-character
upper-case ASCII alphanumeric indexes). Contents will vary depending on a
vendor.</p>
</dd>
<dt><span class="docutils literal">system_field</span></dt>
<dd><p>Zero or many of those elements with an <span class="docutils literal">index</span> attribute (since-character
upper-case ASCII alphanumeric indexes, except for letter 'A'). May store
system-specific data related to a PCI device.</p>
</dd>
</dl>
<p>All fields are optional and are not guaranteed to be present for a generic PCI
device. Read-write fields are not possible to alter via Libvirt at the time of
writing but their content is refreshed on each invocation in case this is done
by means external to Libvirt.</p>
<p>The device name and all fields may contain only the following characters:
<span class="docutils literal"><span class="pre">[0-9a-zA-F</span> <span class="pre">-_,.:;=]</span></span>. The device name may be as large as 65535 bytes while
fields are limited with 255 bytes.</p>
</div>
</div>
<div class="section" id="examples">
<h1><a class="toc-backref" href="#id21">Examples</a><a class="headerlink" href="#examples" title="Link to this headline">¶</a></h1>
<p>The following are some example node device XML outputs:</p>
<pre class="literal-block">&lt;device&gt;
  &lt;name&gt;computer&lt;/name&gt;
  &lt;capability type='system'&gt;
    &lt;product&gt;2241B36&lt;/product&gt;
    &lt;hardware&gt;
      &lt;vendor&gt;LENOVO&lt;/vendor&gt;
      &lt;version&gt;ThinkPad T500&lt;/version&gt;
      &lt;serial&gt;R89055N&lt;/serial&gt;
      &lt;uuid&gt;c9488981-5049-11cb-9c1c-993d0230b4cd&lt;/uuid&gt;
    &lt;/hardware&gt;
    &lt;firmware&gt;
      &lt;vendor&gt;LENOVO&lt;/vendor&gt;
      &lt;version&gt;6FET82WW (3.12 )&lt;/version&gt;
      &lt;release_date&gt;11/26/2009&lt;/release_date&gt;
    &lt;/firmware&gt;
  &lt;/capability&gt;
&lt;/device&gt;

&lt;device&gt;
  &lt;name&gt;net_eth1_00_27_13_6a_fe_00&lt;/name&gt;
  &lt;parent&gt;pci_0000_00_19_0&lt;/parent&gt;
  &lt;capability type='net'&gt;
    &lt;interface&gt;eth1&lt;/interface&gt;
    &lt;address&gt;00:27:13:6a:fe:00&lt;/address&gt;
    &lt;capability type='80203'/&gt;
  &lt;/capability&gt;
&lt;/device&gt;

&lt;device&gt;
  &lt;name&gt;pci_0000_02_00_0&lt;/name&gt;
  &lt;path&gt;/sys/devices/pci0000:00/0000:00:04.0/0000:02:00.0&lt;/path&gt;
  &lt;parent&gt;pci_0000_00_04_0&lt;/parent&gt;
  &lt;driver&gt;
    &lt;name&gt;igb&lt;/name&gt;
  &lt;/driver&gt;
  &lt;capability type='pci'&gt;
    &lt;class&gt;0x020000&lt;/class&gt;
    &lt;domain&gt;0&lt;/domain&gt;
    &lt;bus&gt;2&lt;/bus&gt;
    &lt;slot&gt;0&lt;/slot&gt;
    &lt;function&gt;0&lt;/function&gt;
    &lt;product id='0x10c9'&gt;82576 Gigabit Network Connection&lt;/product&gt;
    &lt;vendor id='0x8086'&gt;Intel Corporation&lt;/vendor&gt;
    &lt;capability type='virt_functions'&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x10' function='0x0'/&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x10' function='0x2'/&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x10' function='0x4'/&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x10' function='0x6'/&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x11' function='0x0'/&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x11' function='0x2'/&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x11' function='0x4'/&gt;
    &lt;/capability&gt;
    &lt;iommuGroup number='12'&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x00' function='0x0'/&gt;
      &lt;address domain='0x0000' bus='0x02' slot='0x00' function='0x1'/&gt;
    &lt;/iommuGroup&gt;
    &lt;pci-express&gt;
      &lt;link validity='cap' port='1' speed='2.5' width='1'/&gt;
      &lt;link validity='sta' speed='2.5' width='1'/&gt;
    &lt;/pci-express&gt;
  &lt;/capability&gt;
&lt;/device&gt;</pre>
</div>
</div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="downloads.html">Download</a>
          </li>
          <li>
            <a href="contribute.html">Contribute</a>
          </li>
          <li>
            <a href="docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form id="simplesearch" action="https://www.google.com/search" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input id="searchsite" name="sitesearch" type="hidden" value="libvirt.org"/>
            <input id="searchq" name="q" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
        <div id="advancedsearch">
          <span>
            <input type="radio" name="what" id="whatwebsite" checked="checked" value="website"/>
            <label for="whatwebsite">Website</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatwiki" value="wiki"/>
            <label for="whatwiki">Wiki</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatdevs" value="devs"/>
            <label for="whatdevs">Developers list</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatusers" value="users"/>
            <label for="whatusers">Users list</label>
          </span>
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="contact.html#mailing-lists">email</a>
          </li>
          <li>
            <a href="contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="https://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="contribute">
        <h3>Contribute</h3>
        <ul>
          <li>
            <a href="https://gitlab.com/libvirt/libvirt/-/blob/master/docs/formatnode.rst">edit this page</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="governance.html#code-of-conduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
