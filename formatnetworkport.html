<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from docs/formatnetworkport.rst
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Apr 19 07:14:27 2023 UTC.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: Network port XML format</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript" src="js/main.js">
      <!--// forces non-empty element-->
    </script>
  </head>
  <body onload="pageload()">
    <div id="body">
      <div class="document" id="network-port-xml-format">
<h1>Network port XML format</h1>

<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#element-and-attribute-overview" id="id1">Element and attribute overview</a></p>
<ul>
<li><p><a class="reference internal" href="#general-metadata" id="id2">General metadata</a></p></li>
<li><p><a class="reference internal" href="#common-elements" id="id3">Common elements</a></p></li>
<li><p><a class="reference internal" href="#plugs" id="id4">Plugs</a></p>
<ul>
<li><p><a class="reference internal" href="#network" id="id5">Network</a></p></li>
<li><p><a class="reference internal" href="#bridge" id="id6">Bridge</a></p></li>
<li><p><a class="reference internal" href="#direct" id="id7">Direct</a></p></li>
<li><p><a class="reference internal" href="#host-pci" id="id8">Host PCI</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>This page provides an introduction to the network port XML format. This stores
information about the connection between a virtual interface of a virtual
domain, and the virtual network it is attached to.</p>
<div class="section" id="element-and-attribute-overview">
<h1><a class="toc-backref" href="#id1">Element and attribute overview</a><a class="headerlink" href="#element-and-attribute-overview" title="Link to this headline">¶</a></h1>
<p>The root element required for all virtual network ports is named <span class="docutils literal">networkport</span>
and has no configurable attributes The network port XML format is available
<span class="since">since 5.5.0</span></p>
<div class="section" id="general-metadata">
<h2><a class="toc-backref" href="#id2">General metadata</a><a class="headerlink" href="#general-metadata" title="Link to this headline">¶</a></h2>
<p>The first elements provide basic metadata about the virtual network port.</p>
<pre class="literal-block">&lt;networkport&gt;
  &lt;uuid&gt;7ae63b5f-fe96-4af0-a7c3-da04ba1b3f54&lt;/uuid&gt;
  &lt;owner&gt;
    &lt;uuid&gt;06578fc1-c686-46fa-bc2c-220893b466a6&lt;/uuid&gt;
    &lt;name&gt;myguest&lt;/name&gt;
  &lt;/owner&gt;
  &lt;group&gt;webfront&lt;/group&gt;
  &lt;mac address='52:54:0:7b:35:93'/&gt;
  ...</pre>
<dl>
<dt><span class="docutils literal">uuid</span></dt>
<dd><p>The content of the <span class="docutils literal">uuid</span> element provides a globally unique identifier for
the virtual network port. The format must be RFC 4122 compliant, eg
<span class="docutils literal"><span class="pre">3e3fce45-4f53-4fa7-bb32-11f34168b82b</span></span>. If omitted when defining/creating a
new network port, a random UUID is generated.
The <span class="docutils literal">owner</span> node records the domain object that is the owner of the network
port. It contains two child nodes:</p>
<dl class="simple">
<dt><span class="docutils literal">uuid</span></dt>
<dd><p>The content of the <span class="docutils literal">uuid</span> element provides a globally unique identifier
for the virtual domain.</p>
</dd>
<dt><span class="docutils literal">name</span></dt>
<dd><p>The unique name of the virtual domain</p>
</dd>
</dl>
</dd>
<dt><span class="docutils literal">group</span></dt>
<dd><p>The port group in the virtual network to which the port belongs. Can be
omitted if no port groups are defined on the network.</p>
</dd>
<dt><span class="docutils literal">mac</span></dt>
<dd><p>The <span class="docutils literal">address</span> attribute provides the MAC address of the virtual port that
will be see by the guest. The MAC address must not start with 0xFE as this
byte is reserved for use on the host side of the port.</p>
</dd>
</dl>
</div>
<div class="section" id="common-elements">
<h2><a class="toc-backref" href="#id3">Common elements</a><a class="headerlink" href="#common-elements" title="Link to this headline">¶</a></h2>
<p>The following elements are common to one or more of the plug types listed later</p>
<pre class="literal-block">...
&lt;bandwidth&gt;
  &lt;inbound average='1000' peak='5000' floor='200' burst='1024'/&gt;
  &lt;outbound average='128' peak='256' burst='256'/&gt;
&lt;/bandwidth&gt;
&lt;rxfilters trustGuest='yes'/&gt;
&lt;port isolated='yes'/&gt;
&lt;virtualport type='802.1Qbg'&gt;
  &lt;parameters managerid='11' typeid='1193047' typeidversion='2'/&gt;
&lt;/virtualport&gt;
...</pre>
<dl class="simple">
<dt><span class="docutils literal">bandwidth</span></dt>
<dd><p>This part of the network port XML provides setting quality of service.
Incoming and outgoing traffic can be shaped independently. The <span class="docutils literal">bandwidth</span>
element and its child elements are described in the
<a class="reference external" href="formatnetwork.html#quality-of-service">QoS</a> section of the Network XML. In
addition the <span class="docutils literal">classID</span> attribute may exist to provide the ID of the traffic
shaping class that is active.</p>
</dd>
<dt><span class="docutils literal">rxfilters</span></dt>
<dd><p>The <span class="docutils literal">rxfilters</span> element property <span class="docutils literal">trustGuest</span> provides the capability for
the host to detect and trust reports from the guest regarding changes to the
interface mac address and receive filters by setting the attribute to
<span class="docutils literal">yes</span>. The default setting for the attribute is <span class="docutils literal">no</span> for security reasons
and support depends on the guest network device model as well as the type of
connection on the host - currently it is only supported for the virtio device
model and for macvtap connections on the host.</p>
</dd>
<dt><span class="docutils literal">port</span></dt>
<dd><p><span class="since">Since 6.1.0.</span> The <span class="docutils literal">port</span> element property <span class="docutils literal">isolated</span>, when set to
<span class="docutils literal">yes</span> (default setting is <span class="docutils literal">no</span>) is used to isolate this port's network
traffic from other ports on the same network that also have
<span class="docutils literal">&lt;port <span class="pre">isolated='yes'/&gt;</span></span>. This setting is only supported for emulated
network devices connected to a Linux host bridge via a standard tap device.</p>
</dd>
<dt><span class="docutils literal">virtualport</span></dt>
<dd><p>The <span class="docutils literal">virtualport</span> element describes metadata that needs to be provided to
the underlying network subsystem. It is described in the domain XML
<a class="reference external" href="formatdomain.html#network-interfaces">interface documentation</a>.</p>
</dd>
</dl>
</div>
<div class="section" id="plugs">
<h2><a class="toc-backref" href="#id4">Plugs</a><a class="headerlink" href="#plugs" title="Link to this headline">¶</a></h2>
<p>The <span class="docutils literal">plug</span> element has varying content depending on the value of the <span class="docutils literal">type</span>
attribute.</p>
<div class="section" id="network">
<h3><a class="toc-backref" href="#id5">Network</a><a class="headerlink" href="#network" title="Link to this headline">¶</a></h3>
<p>The <span class="docutils literal">network</span> plug type refers to a managed virtual network plug that is based
on a traditional software bridge device privately managed by libvirt.</p>
<pre class="literal-block">...
&lt;plug type='network' bridge='virbr0'/&gt;
...</pre>
<p>The <span class="docutils literal">bridge</span> attribute provides the name of the privately managed bridge
device associated with the virtual network.</p>
</div>
<div class="section" id="bridge">
<h3><a class="toc-backref" href="#id6">Bridge</a><a class="headerlink" href="#bridge" title="Link to this headline">¶</a></h3>
<p>The <span class="docutils literal">bridge</span> plug type refers to an externally managed traditional software
bridge.</p>
<pre class="literal-block">...
&lt;plug type='bridge' bridge='br2'/&gt;
...</pre>
<p>The <span class="docutils literal">bridge</span> attribute provides the name of the externally managed bridge
device associated with the virtual network.</p>
</div>
<div class="section" id="direct">
<h3><a class="toc-backref" href="#id7">Direct</a><a class="headerlink" href="#direct" title="Link to this headline">¶</a></h3>
<p>The <span class="docutils literal">direct</span> plug type refers to a connection directly to a physical network
interface.</p>
<pre class="literal-block">...
&lt;plug type='direct' dev='ens3' mode='vepa'/&gt;
...</pre>
<p>The <span class="docutils literal">dev</span> attribute provides the name of the physical network interface to
which the port will be connected. The <span class="docutils literal">mode</span> attribute describes how the
connection will be setup and takes the same values described in the <a class="reference external" href="formatdomain.html#direct-attachment-to-physical-interface">domain
XML</a>.</p>
</div>
<div class="section" id="host-pci">
<h3><a class="toc-backref" href="#id8">Host PCI</a><a class="headerlink" href="#host-pci" title="Link to this headline">¶</a></h3>
<p>The <span class="docutils literal"><span class="pre">hostdev-pci</span></span> plug type refers to the passthrough of a physical PCI device
rather than emulation.</p>
<pre class="literal-block">...
&lt;plug type='hostdev-pci' managed='yes'&gt;
  &lt;driver name='vfio'/&gt;
  &lt;address domain='0x0001' bus='0x02' slot='0x03' function='0x4'/&gt;
&lt;/plug&gt;
...</pre>
<p>The <span class="docutils literal">managed</span> attribute indicates who is responsible for managing the PCI
device in the host. When set to the value <span class="docutils literal">yes</span> libvirt is responsible for
automatically detaching the device from host drivers and resetting it if needed.
If the value is <span class="docutils literal">no</span>, some other party must ensure the device is not attached
to any host drivers.</p>
</div>
</div>
</div>
</div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="downloads.html">Download</a>
          </li>
          <li>
            <a href="contribute.html">Contribute</a>
          </li>
          <li>
            <a href="docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form id="simplesearch" action="https://www.google.com/search" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input id="searchsite" name="sitesearch" type="hidden" value="libvirt.org"/>
            <input id="searchq" name="q" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
        <div id="advancedsearch">
          <span>
            <input type="radio" name="what" id="whatwebsite" checked="checked" value="website"/>
            <label for="whatwebsite">Website</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatwiki" value="wiki"/>
            <label for="whatwiki">Wiki</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatdevs" value="devs"/>
            <label for="whatdevs">Developers list</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatusers" value="users"/>
            <label for="whatusers">Users list</label>
          </span>
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="contact.html#mailing-lists">email</a>
          </li>
          <li>
            <a href="contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="https://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="contribute">
        <h3>Contribute</h3>
        <ul>
          <li>
            <a href="https://gitlab.com/libvirt/libvirt/-/blob/master/docs/formatnetworkport.rst">edit this page</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="governance.html#code-of-conduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
