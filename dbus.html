<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from docs/dbus.rst
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Apr 19 07:14:27 2023 UTC.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: D-Bus API bindings</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript" src="js/main.js">
      <!--// forces non-empty element-->
    </script>
  </head>
  <body onload="pageload()">
    <div id="body">
      <div class="document" id="d-bus-api-bindings">
<h1>D-Bus API bindings</h1>

<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#description" id="id1">Description</a></p></li>
<li><p><a class="reference internal" href="#git-source-repository" id="id2">GIT source repository</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id3">Usage</a></p></li>
</ul>
</div>
<div class="section" id="description">
<h1><a class="toc-backref" href="#id1">Description</a><a class="headerlink" href="#description" title="Link to this headline">¶</a></h1>
<p>libvirt-dbus wraps libvirt API to provide a high-level object-oriented API
better suited for dbus-based applications.</p>
</div>
<div class="section" id="git-source-repository">
<h1><a class="toc-backref" href="#id2">GIT source repository</a><a class="headerlink" href="#git-source-repository" title="Link to this headline">¶</a></h1>
<p>The D-Bus bindings source code is maintained in a <a class="reference external" href="https://git-scm.com/">git</a>
repository available on
<a class="reference external" href="https://gitlab.com/libvirt/libvirt-dbus">gitlab.com</a>:</p>
<pre class="literal-block">git clone https://gitlab.com/libvirt/libvirt-dbus.git</pre>
</div>
<div class="section" id="usage">
<h1><a class="toc-backref" href="#id3">Usage</a><a class="headerlink" href="#usage" title="Link to this headline">¶</a></h1>
<p>libvirt-dbus exports libvirt API using D-Bus objects with methods and properties
described by interfaces. Currently only local connection to libvirt is exported
and the list of supported drivers depends on the type of the bus connection
(session or system).</p>
<p>The name of the libvirt-dbus service is <span class="docutils literal">org.libvirt</span>. libvirt-dbus
distributes an interface XML descriptions which can be usually found at
<span class="docutils literal"><span class="pre">/usr/share/dbus-1/interfaces/</span></span>.</p>
<p>By default unprivileged user has access only to the session D-Bus connection. In
order to allow specific user "foo" to access the system D-Bus connection you
need to create a file <span class="docutils literal"><span class="pre">/etc/dbus-1/system.d/org.libvirt.conf</span></span> that contains:</p>
<pre class="literal-block">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE busconfig PUBLIC "-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd"&gt;

&lt;busconfig&gt;

  &lt;policy user="foo"&gt;
    &lt;allow send_destination="org.libvirt"/&gt;
  &lt;/policy&gt;

&lt;/busconfig&gt;</pre>
<p>To get a list of supported drivers for the specific bus connection you can run
these commands (not all drivers may be available on the host):</p>
<pre class="literal-block">gdbus introspect --xml --session --dest org.libvirt --object-path /org/libvirt
gdbus introspect --xml --system --dest org.libvirt --object-path /org/libvirt</pre>
<p>Every object is introspectable so you can get a list of available interfaces
with methods, signals and properties running this command:</p>
<pre class="literal-block">gdbus introspect --xml --system --dest org.libvirt --object-path /org/libvirt/QEMU</pre>
<p>To get a list of domains for specific connection driver you can run this
command:</p>
<pre class="literal-block">gdbus call --system --dest org.libvirt --object-path /org/libvirt/QEMU \
    --method org.libvirt.Connect.ListDomains 0</pre>
</div>
</div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="downloads.html">Download</a>
          </li>
          <li>
            <a href="contribute.html">Contribute</a>
          </li>
          <li>
            <a href="docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form id="simplesearch" action="https://www.google.com/search" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input id="searchsite" name="sitesearch" type="hidden" value="libvirt.org"/>
            <input id="searchq" name="q" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
        <div id="advancedsearch">
          <span>
            <input type="radio" name="what" id="whatwebsite" checked="checked" value="website"/>
            <label for="whatwebsite">Website</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatwiki" value="wiki"/>
            <label for="whatwiki">Wiki</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatdevs" value="devs"/>
            <label for="whatdevs">Developers list</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatusers" value="users"/>
            <label for="whatusers">Users list</label>
          </span>
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="contact.html#mailing-lists">email</a>
          </li>
          <li>
            <a href="contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="https://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="contribute">
        <h3>Contribute</h3>
        <ul>
          <li>
            <a href="https://gitlab.com/libvirt/libvirt/-/blob/master/docs/dbus.rst">edit this page</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="governance.html#code-of-conduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
