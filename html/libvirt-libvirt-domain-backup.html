<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from 
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Apr 19 07:14:27 2023 UTC.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="../css/main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: Module libvirt-domain-backup from libvirt</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript" src="../js/main.js">
      <!--// forces non-empty element-->
    </script>
  </head>
  <body onload="pageload()">
    <div id="body">
      <div class="document">
        <h1>Module libvirt-domain-backup from libvirt</h1>
        <p>Provides APIs for the management of domain backups Copyright (C) 2017 Parallels International GmbH This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version. This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the GNU Lesser General Public License along with this library. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
        <h2>Table of Contents</h2>
        <h3>
          <a href="#types">Types</a>
        </h3>
        <pre class="api"><span class="keyword">typedef</span> <span class="type">struct _virDomainBlockSnapshotX</span> <a href="#virDomainBlockSnapshotX">virDomainBlockSnapshotX</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virDomainBlockSnapshotXCreateFlags">virDomainBlockSnapshotXCreateFlags</a>
<span class="keyword">typedef</span> <span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotX">virDomainBlockSnapshotX</a> *</span> <a id="virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a>
</pre>
        <h3>
          <a href="#functions">Functions</a>
        </h3>
        <pre class="api"><span class="type">int</span>	<a href="#virDomainBlockCheckpointXRemove">virDomainBlockCheckpointXRemove</a>	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain, <br/>					 <span class="type">const char *</span> name, <br/>					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virDomainBlockExportXStart">virDomainBlockExportXStart</a>	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain, <br/>					 <span class="type">const char *</span> xmlDesc, <br/>					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virDomainBlockExportXStop">virDomainBlockExportXStop</a>	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain, <br/>					 <span class="type">const char *</span> xmlDesc, <br/>					 <span class="type">unsigned int</span> flags)
<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span>	<a href="#virDomainBlockSnapshotXCreateXML">virDomainBlockSnapshotXCreateXML</a>	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain, <br/>							 <span class="type">const char *</span> xmlDesc, <br/>							 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virDomainBlockSnapshotXDelete">virDomainBlockSnapshotXDelete</a>	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot, <br/>					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virDomainBlockSnapshotXFree">virDomainBlockSnapshotXFree</a>	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)
<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	<a href="#virDomainBlockSnapshotXGetConnect">virDomainBlockSnapshotXGetConnect</a>	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)
<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span>	<a href="#virDomainBlockSnapshotXGetDomain">virDomainBlockSnapshotXGetDomain</a>	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)
<span class="type">const char *</span>	<a href="#virDomainBlockSnapshotXGetName">virDomainBlockSnapshotXGetName</a>	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)
<span class="type">char *</span>	<a href="#virDomainBlockSnapshotXGetXMLDesc">virDomainBlockSnapshotXGetXMLDesc</a>	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot, <br/>						 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virDomainBlockSnapshotXList">virDomainBlockSnapshotXList</a>	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain, <br/>					 <span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a> **</span> snaps, <br/>					 <span class="type">unsigned int</span> flags)
<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span>	<a href="#virDomainBlockSnapshotXLookupByName">virDomainBlockSnapshotXLookupByName</a>	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain, <br/>							 <span class="type">const char *</span> name, <br/>							 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virDomainBlockSnapshotXRef">virDomainBlockSnapshotXRef</a>	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)
</pre>
        <h2>Description</h2>
        <h3>
          <a id="types">Types</a>
          <a class="headerlink" href="#types" title="Link to this headline">¶</a>
        </h3>
        <h3>
          <a id="virDomainBlockSnapshotX">
            <code>virDomainBlockSnapshotX</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotX" title="Link to this headline">¶</a>
        </h3>
        <div class="api">
          <pre><span class="keyword">struct </span>virDomainBlockSnapshotX {
</pre>
          <div class="undisclosed">The content of this structure is not made public by the API</div>
          <pre>
}
</pre>
        </div>
        <h3>
          <a id="virDomainBlockSnapshotXCreateFlags">
            <code>virDomainBlockSnapshotXCreateFlags</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXCreateFlags" title="Link to this headline">¶</a>
        </h3>
        <div class="api">
          <pre><span class="keyword">enum</span> virDomainBlockSnapshotXCreateFlags {
</pre>
          <table>
            <tr>
              <td>
                <a id="VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_QUIESCE">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_QUIESCE</a>
              </td>
              <td> = </td>
              <td class="enumvalue">1 (0x1; 1 &lt;&lt; 0)</td>
              <td>
                <div class="comment">use guest agent to quiesce all mounted file systems within the domain</div>
              </td>
            </tr>
            <tr>
              <td>
                <a id="VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_AUTODELETE">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_AUTODELETE</a>
              </td>
              <td> = </td>
              <td class="enumvalue">2 (0x2; 1 &lt;&lt; 1)</td>
              <td>
                <div class="comment">TODO</div>
              </td>
            </tr>
            <tr>
              <td>
                <a id="VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_CHECKPOINT">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_CHECKPOINT</a>
              </td>
              <td> = </td>
              <td class="enumvalue">4 (0x4; 1 &lt;&lt; 2)</td>
              <td>
                <div class="comment">TODO</div>
              </td>
            </tr>
            <tr>
              <td>
                <a id="VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_BYPASS_CACHE">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_BYPASS_CACHE</a>
              </td>
              <td> = </td>
              <td class="enumvalue">8 (0x8; 1 &lt;&lt; 3)</td>
              <td>
                <div class="comment">TODO</div>
              </td>
            </tr>
          </table>
          <pre>}
</pre>
        </div>
        <h3>
          <a id="functions">Functions</a>
          <a class="headerlink" href="#functions" title="Link to this headline">¶</a>
        </h3>
        <h3>
          <a id="virDomainBlockCheckpointXRemove">
            <code>virDomainBlockCheckpointXRemove</code>
          </a>
          <a class="headerlink" href="#virDomainBlockCheckpointXRemove" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">int</span>	virDomainBlockCheckpointXRemove	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain,
					 <span class="type">const char *</span> name,
					 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Delete the checkpoint from all domain disks.</p>
        </div>
        <dl class="variablelist">
          <dt>domain</dt>
          <dd>domain object</dd>
          <dt>name</dt>
          <dd>checkpoint name</dd>
          <dt>flags</dt>
          <dd>reserved, must be 0</dd>
          <dt>Returns</dt>
          <dd>0 if the checkpoint was successfully deleted, or -1 on error.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockExportXStart">
            <code>virDomainBlockExportXStart</code>
          </a>
          <a class="headerlink" href="#virDomainBlockExportXStart" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">int</span>	virDomainBlockExportXStart	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain,
					 <span class="type">const char *</span> xmlDesc,
					 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Export disks/snapshots via the protocol specified in <code>xmlDesc</code>. The export server will be started if it is not yet running.</p>
          <p>Block snaphots can only be exported in the read mode. Disks can be exported in the write mode only if both <a href="libvirt-libvirt-domain.html#VIR_DOMAIN_START_PAUSED">VIR_DOMAIN_START_PAUSED</a> and <a href="libvirt-libvirt-domain.html#VIR_DOMAIN_START_X_EXPORTABLE">VIR_DOMAIN_START_X_EXPORTABLE</a> are set on domain start and only before the domain is resumed.</p>
        </div>
        <dl class="variablelist">
          <dt>domain</dt>
          <dd>domain object</dd>
          <dt>xmlDesc</dt>
          <dd>export XML description</dd>
          <dt>flags</dt>
          <dd>reserved, must be 0</dd>
          <dt>Returns</dt>
          <dd>0 if the export was successfully started, or -1 on error.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockExportXStop">
            <code>virDomainBlockExportXStop</code>
          </a>
          <a class="headerlink" href="#virDomainBlockExportXStop" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">int</span>	virDomainBlockExportXStop	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain,
					 <span class="type">const char *</span> xmlDesc,
					 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Delete disks/snapshots from the export through the protocol specified in <code>xmlDesc</code>. The export server will be shut down if nothing is left to export.</p>
        </div>
        <dl class="variablelist">
          <dt>domain</dt>
          <dd>domain object</dd>
          <dt>xmlDesc</dt>
          <dd>export XML description</dd>
          <dt>flags</dt>
          <dd>reserved, must be 0</dd>
          <dt>Returns</dt>
          <dd>0 if the export was successfully started, or -1 on error.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXCreateXML">
            <code>virDomainBlockSnapshotXCreateXML</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXCreateXML" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span>	virDomainBlockSnapshotXCreateXML	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain,
							 <span class="type">const char *</span> xmlDesc,
							 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Create a block snapshot based on the XML description in <code>xmlDesc</code>. Block snapshots differ from plain domain disk snapshots. A plain snapshot creates a new image file backed by the original image file. The new data written to disk goes to the new image while the original image holds the data for the moment the snapshot was taken at. A block snaphot also creates a new image file backed by the original image file, but the new data still goes to the original image. Before the new data is written to the original image, however, the previous data is written to a new image (sometimes called a fleece image). As a result, the fleece image maintains the disk snapshot.</p>
          <p>If <code>flags</code> includes <a href="libvirt-libvirt-domain-backup.html#VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_CHECKPOINT">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_CHECKPOINT</a>, then a checkpoint will be added to every disk in the snapshot. The checkpoint provides the means to query which parts of disk have changed since the checkpoint was created. This is typically used for creating incremental backups. For example, if the first snapshot was created with a checkpoint and copied to the backup store, when the second snapshot is created, the backup agent can just copy the parts of disk that have changed since the first backup.</p>
          <p>If <code>flags</code> includes <a href="libvirt-libvirt-domain-backup.html#VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_AUTODELETE">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_AUTODELETE</a>, then block snapshot will be deleted on client disconnect.</p>
          <p>If <code>flags</code> includes <a href="libvirt-libvirt-domain-backup.html#VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_QUIESCE">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_QUIESCE</a>, then libvirt will attempt to use the guest agent to freeze and thaw all file systems in use within the domain OS. If, however, the guest agent is not present, an error will be thrown.</p>
          <p>If <code>flags</code> includes <a href="libvirt-libvirt-domain-backup.html#VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_BYPASS_CACHE">VIR_DOMAIN_BLOCK_SNAPSHOT_X_CREATE_BYPASS_CACHE</a>, then libvirt will attempt to bypass the file system cache while writing to the fleece image, or fail if it cannot do so for the given system; this can allow less pressure on file system cache, but also risks slowing saves to NFS.</p>
        </div>
        <dl class="variablelist">
          <dt>domain</dt>
          <dd>domain object</dd>
          <dt>xmlDesc</dt>
          <dd>block snapshot XML description</dd>
          <dt>flags</dt>
          <dd>bitwise-OR of <a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXCreateFlags">virDomainBlockSnapshotXCreateFlags</a></dd>
          <dt>Returns</dt>
          <dd>an (opaque) <a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a> on success, NULL on failure.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXDelete">
            <code>virDomainBlockSnapshotXDelete</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXDelete" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">int</span>	virDomainBlockSnapshotXDelete	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot,
					 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Delete the snapshot. Fleece images are discared but checkpoints are kept.</p>
        </div>
        <dl class="variablelist">
          <dt>snapshot</dt>
          <dd>block snapshot object</dd>
          <dt>flags</dt>
          <dd>reserved, must be 0</dd>
          <dt>Returns</dt>
          <dd>0 if the snapshot was successfully deleted, -1 on error.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXFree">
            <code>virDomainBlockSnapshotXFree</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXFree" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">int</span>	virDomainBlockSnapshotXFree	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)</pre>
        <div class="description">
          <p>Free the domain snapshot object. The snapshot itself is not modified. The data structure is freed and must not be used thereafter.</p>
        </div>
        <dl class="variablelist">
          <dt>snapshot</dt>
          <dd>domain snapshot object</dd>
          <dt>Returns</dt>
          <dd>0 in case of success, or -1 in case of failure.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXGetConnect">
            <code>virDomainBlockSnapshotXGetConnect</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXGetConnect" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	virDomainBlockSnapshotXGetConnect	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)</pre>
        <div class="description">
          <p>Provide the connection pointer associated with a snapshot. The reference counter on the connection is not increased by this call.</p>
          <p>WARNING: Do not use this function when writing libvirt bindings in other languages. Instead store the connection and the snapshot object together.</p>
        </div>
        <dl class="variablelist">
          <dt>snapshot</dt>
          <dd>snapshot object</dd>
          <dt>Returns</dt>
          <dd>the connection or NULL.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXGetDomain">
            <code>virDomainBlockSnapshotXGetDomain</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXGetDomain" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span>	virDomainBlockSnapshotXGetDomain	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)</pre>
        <div class="description">
          <p>Provide the domain pointer associated with a snapshot. The reference counter on the domain is not increased by this call.</p>
          <p>WARNING: Do not use this function when writing libvirt bindings in other languages. Instead store the domain and the snapshot object together.</p>
        </div>
        <dl class="variablelist">
          <dt>snapshot</dt>
          <dd>snapshot object</dd>
          <dt>Returns</dt>
          <dd>the domain or NULL.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXGetName">
            <code>virDomainBlockSnapshotXGetName</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXGetName" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">const char *</span>	virDomainBlockSnapshotXGetName	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)</pre>
        <div class="description">
          <p>Get the name of the snapshot.</p>
        </div>
        <dl class="variablelist">
          <dt>snapshot</dt>
          <dd>snapshot object</dd>
          <dt>Returns</dt>
          <dd>a pointer to the name or NULL. The string does not have to be deallocated as its lifetime will be the same as that of the snapshot object.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXGetXMLDesc">
            <code>virDomainBlockSnapshotXGetXMLDesc</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXGetXMLDesc" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">char *</span>	virDomainBlockSnapshotXGetXMLDesc	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot,
						 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Provide an XML description of the block snapshot.</p>
        </div>
        <dl class="variablelist">
          <dt>snapshot</dt>
          <dd>domain snapshot object</dd>
          <dt>flags</dt>
          <dd>reserved, must be 0</dd>
          <dt>Returns</dt>
          <dd>a zero-terminated UTF-8-encoded XML instance, or NULL in case of error. The caller must free() the returned value.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXList">
            <code>virDomainBlockSnapshotXList</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXList" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">int</span>	virDomainBlockSnapshotXList	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain,
					 <span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a> **</span> snaps,
					 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Collect the list of block snapshots for the domain, and allocates an array to store those objects.</p>
        </div>
        <dl class="variablelist">
          <dt>domain</dt>
          <dd>domain object</dd>
          <dt>snaps</dt>
          <dd>pointer to a variable to store the array containing block snapshot objects, or NULL if the list is not required (just returns the number of block snapshots then).</dd>
          <dt>flags</dt>
          <dd>reserved, must be 0</dd>
          <dt>Returns</dt>
          <dd>the number of block snapshots found or -1 and sets <code>snaps</code> to NULL in case of error. On success, the array stored into <code>snaps</code> is guaranteed to have an extra allocated element set to NULL but not included in the return count to make iteration easier. The caller is responsible for calling <a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXFree">virDomainBlockSnapshotXFree</a>() on each array element, then calling free() on <code>snaps</code>.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXLookupByName">
            <code>virDomainBlockSnapshotXLookupByName</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXLookupByName" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span>	virDomainBlockSnapshotXLookupByName	(<span class="type"><a href="libvirt-libvirt-domain.html#virDomainPtr">virDomainPtr</a></span> domain,
							 <span class="type">const char *</span> name,
							 <span class="type">unsigned int</span> flags)</pre>
        <div class="description">
          <p>Look up a block snapshot by name.</p>
        </div>
        <dl class="variablelist">
          <dt>domain</dt>
          <dd>domain object</dd>
          <dt>name</dt>
          <dd>name for the block snapshot</dd>
          <dt>flags</dt>
          <dd>reserved, must be 0</dd>
          <dt>Returns</dt>
          <dd>a block snapshot object, or NULL in case of failure. If the domain snapshot cannot be found, the <a href="libvirt-virterror.html#VIR_ERR_NO_DOMAIN_SNAPSHOT">VIR_ERR_NO_DOMAIN_SNAPSHOT</a> error is raised.</dd>
        </dl>
        <div class="acl"/>
        <h3>
          <a id="virDomainBlockSnapshotXRef">
            <code>virDomainBlockSnapshotXRef</code>
          </a>
          <a class="headerlink" href="#virDomainBlockSnapshotXRef" title="Link to this headline">¶</a>
        </h3>
        <pre class="api"><span class="type">int</span>	virDomainBlockSnapshotXRef	(<span class="type"><a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXPtr">virDomainBlockSnapshotXPtr</a></span> snapshot)</pre>
        <div class="description">
          <p>Increment the reference count on the snapshot. For each additional call to this method, there must be a corresponding call to <a href="libvirt-libvirt-domain-backup.html#virDomainBlockSnapshotXFree">virDomainBlockSnapshotXFree</a> to release the reference count once the caller no longer needs the reference to this object.</p>
          <p>This method is typically useful for applications where multiple threads are using a connection, and it is required that the connection and domain remain open until all threads have finished using the snapshot. That is, each new thread using a snapshot will increment the reference count.</p>
        </div>
        <dl class="variablelist">
          <dt>snapshot</dt>
          <dd>snapshot to hold a reference on</dd>
          <dt>Returns</dt>
          <dd>0 in case of success, or -1 in case of failure.</dd>
        </dl>
        <div class="acl"/>
      </div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="../index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="../downloads.html">Download</a>
          </li>
          <li>
            <a href="../contribute.html">Contribute</a>
          </li>
          <li>
            <a href="../docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form id="simplesearch" action="https://www.google.com/search" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input id="searchsite" name="sitesearch" type="hidden" value="libvirt.org"/>
            <input id="searchq" name="q" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
        <div id="advancedsearch">
          <span>
            <input type="radio" name="what" id="whatwebsite" checked="checked" value="website"/>
            <label for="whatwebsite">Website</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatwiki" value="wiki"/>
            <label for="whatwiki">Wiki</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatdevs" value="devs"/>
            <label for="whatdevs">Developers list</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatusers" value="users"/>
            <label for="whatusers">Users list</label>
          </span>
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="../contact.html#mailing-lists">email</a>
          </li>
          <li>
            <a href="../contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="https://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="../governance.html#code-of-conduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
