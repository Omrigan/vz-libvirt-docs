<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from docs/submitting-patches.rst
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Apr 19 07:14:27 2023 UTC.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: Submitting patches</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript" src="js/main.js">
      <!--// forces non-empty element-->
    </script>
  </head>
  <body onload="pageload()">
    <div id="body">
      <div class="document" id="submitting-patches">
<h1>Submitting patches</h1>

<p>The simplest way to send patches is to use the
<a class="reference external" href="https://github.com/stefanha/git-publish">git-publish</a>
tool. All libvirt-related repositories contain a config file
that tells git-publish to use the correct mailing list and
subject prefix.</p>
<p>Alternatively, you may send patches using <span class="docutils literal">git <span class="pre">send-email</span></span>.</p>
<p>Also, for code motion patches, you may find that
<span class="docutils literal">git diff <span class="pre">--patience</span></span> provides an easier-to-read
patch. However, the usual workflow of libvirt developer is:</p>
<pre class="literal-block">$ git checkout master
$ git pull
$ git checkout -t origin -b workbranch
(hack, committing any changes along the way)</pre>
<p>More hints on compiling can be found <a class="reference external" href="compiling.html">here</a>.
Make sure to express your agreement with the <a class="reference external" href="hacking.html#developer-certificate-of-origin">Developer Certificate
of Origin</a> by
adding a "Signed-off-by" line to every commit message.
When you want to post your patches:</p>
<pre class="literal-block">$ git pull --rebase
(fix any conflicts)
$ git send-email --cover-letter --no-chain-reply-to --annotate \
                 --confirm=always --to=libvir-list@redhat.com master</pre>
<p>For a single patch you can omit <span class="docutils literal"><span class="pre">--cover-letter</span></span>, but a
series of two or more patches needs a cover letter.</p>
<p>Note that the <span class="docutils literal">git <span class="pre">send-email</span></span> subcommand may not be in the
main git package and using it may require installation of a
separate package, for example the "git-email" package in Fedora
and Debian. If this is your first time using
<span class="docutils literal">git <span class="pre">send-email</span></span>, you might need to configure it to point it
to your SMTP server with something like:</p>
<pre class="literal-block">$ git config --global sendemail.smtpServer stmp.youremailprovider.net</pre>
<p>If you get tired of typing <span class="docutils literal"><span class="pre">--to=libvir-list@redhat.com</span></span> all
the time, you can configure that to be automatically handled as
well:</p>
<pre class="literal-block">$ git config sendemail.to libvir-list@redhat.com</pre>
<p>As a rule, patches should be sent to the mailing list only: all
developers are subscribed to libvir-list and read it regularly,
so <strong>please don't CC individual developers</strong> unless they've
explicitly asked you to.</p>
<p>Avoid using mail clients for sending patches, as most of them
will mangle the messages in some way, making them unusable for
our purposes. Gmail and other Web-based mail clients are
particularly bad at this.</p>
<p>If everything went well, your patch should show up on the
<a class="reference external" href="https://listman.redhat.com/archives/libvir-list/">libvir-list
archives</a> in a
matter of minutes; if you still can't find it on there after an
hour or so, you should double-check your setup. <strong>Note that, if
you are not already a subscriber, your very first post to the
mailing list will be subject to moderation</strong>, and it's not
uncommon for that to take around a day.</p>
<p>Please follow this as close as you can, especially the rebase
and <span class="docutils literal">git <span class="pre">send-email</span></span> part, as it makes life easier for other
developers to review your patch set.</p>
<p>One should avoid sending patches as attachments, but rather
send them in email body along with commit message. If a
developer is sending another version of the patch (e.g. to
address review comments), they are advised to note differences
to previous versions after the <span class="docutils literal"><span class="pre">---</span></span> line in the patch so
that it helps reviewers but doesn't become part of git history.
Moreover, such patch needs to be prefixed correctly with
<span class="docutils literal"><span class="pre">--subject-prefix=PATCHv2</span></span> appended to
<span class="docutils literal">git <span class="pre">send-email</span></span> (substitute <span class="docutils literal">v2</span> with the
correct version if needed though).</p>
</div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="downloads.html">Download</a>
          </li>
          <li>
            <a href="contribute.html">Contribute</a>
          </li>
          <li>
            <a href="docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form id="simplesearch" action="https://www.google.com/search" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input id="searchsite" name="sitesearch" type="hidden" value="libvirt.org"/>
            <input id="searchq" name="q" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
        <div id="advancedsearch">
          <span>
            <input type="radio" name="what" id="whatwebsite" checked="checked" value="website"/>
            <label for="whatwebsite">Website</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatwiki" value="wiki"/>
            <label for="whatwiki">Wiki</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatdevs" value="devs"/>
            <label for="whatdevs">Developers list</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatusers" value="users"/>
            <label for="whatusers">Users list</label>
          </span>
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="contact.html#mailing-lists">email</a>
          </li>
          <li>
            <a href="contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="https://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="contribute">
        <h3>Contribute</h3>
        <ul>
          <li>
            <a href="https://gitlab.com/libvirt/libvirt/-/blob/master/docs/submitting-patches.rst">edit this page</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="governance.html#code-of-conduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
