<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from docs/formatnetwork.rst
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Apr 19 07:14:27 2023 UTC.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: Network XML format</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript" src="js/main.js">
      <!--// forces non-empty element-->
    </script>
  </head>
  <body onload="pageload()">
    <div id="body">
      <div class="document" id="network-xml-format">
<h1>Network XML format</h1>

<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#element-and-attribute-overview" id="id1">Element and attribute overview</a></p>
<ul>
<li><p><a class="reference internal" href="#general-metadata" id="id2">General metadata</a></p></li>
<li><p><a class="reference internal" href="#connectivity" id="id3">Connectivity</a></p>
<ul>
<li><p><a class="reference internal" href="#quality-of-service" id="id4">Quality of service</a></p></li>
<li><p><a class="reference internal" href="#setting-vlan-tag-on-supported-network-types-only" id="id5">Setting VLAN tag (on supported network types only)</a></p></li>
<li><p><a class="reference internal" href="#isolating-ports-from-one-another" id="id6">Isolating ports from one another</a></p></li>
<li><p><a class="reference internal" href="#portgroups" id="id7">Portgroups</a></p></li>
<li><p><a class="reference internal" href="#static-routes" id="id8">Static Routes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#addressing" id="id9">Addressing</a></p></li>
<li><p><a class="reference internal" href="#network-namespaces" id="id10">Network namespaces</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#example-configuration" id="id11">Example configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#nat-based-network" id="id12">NAT based network</a></p></li>
<li><p><a class="reference internal" href="#ipv6-nat-based-network" id="id13">IPv6 NAT based network</a></p></li>
<li><p><a class="reference internal" href="#routed-network-config" id="id14">Routed network config</a></p></li>
<li><p><a class="reference internal" href="#isolated-network-config" id="id15">Isolated network config</a></p></li>
<li><p><a class="reference internal" href="#isolated-ipv6-network-config" id="id16">Isolated IPv6 network config</a></p></li>
<li><p><a class="reference internal" href="#using-an-existing-host-bridge" id="id17">Using an existing host bridge</a></p></li>
<li><p><a class="reference internal" href="#using-a-macvtap-direct-connection" id="id18">Using a macvtap "direct" connection</a></p></li>
<li><p><a class="reference internal" href="#network-config-with-no-gateway-addresses" id="id19">Network config with no gateway addresses</a></p></li>
</ul>
</li>
</ul>
</div>
<p>This page provides an introduction to the network XML format. For background
information on the concepts referred to here, consult the <a class="reference external" href="https://wiki.libvirt.org/page/Networking">relevant wiki
page</a>.</p>
<div class="section" id="element-and-attribute-overview">
<h1><a class="toc-backref" href="#id1">Element and attribute overview</a><a class="headerlink" href="#element-and-attribute-overview" title="Link to this headline">¶</a></h1>
<p>The root element required for all virtual networks is named <span class="docutils literal">network</span> and has
no configurable attributes (although <span class="since">since 0.10.0</span> there is one optional
read-only attribute - when examining the live configuration of a network, the
attribute <span class="docutils literal">connections</span>, if present, specifies the number of guest interfaces
currently connected via this network). The network XML format is available
<span class="since">since 0.3.0</span></p>
<div class="section" id="general-metadata">
<h2><a class="toc-backref" href="#id2">General metadata</a><a class="headerlink" href="#general-metadata" title="Link to this headline">¶</a></h2>
<p>The first elements provide basic metadata about the virtual network.</p>
<pre class="literal-block">&lt;network ipv6='yes' trustGuestRxFilters='no'&gt;
  &lt;name&gt;default&lt;/name&gt;
  &lt;uuid&gt;3e3fce45-4f53-4fa7-bb32-11f34168b82b&lt;/uuid&gt;
  &lt;metadata&gt;
    &lt;app1:foo xmlns:app1="http://app1.org/app1/"&gt;..&lt;/app1:foo&gt;
    &lt;app2:bar xmlns:app2="http://app1.org/app2/"&gt;..&lt;/app2:bar&gt;
  &lt;/metadata&gt;
  ...</pre>
<dl class="simple">
<dt><span class="docutils literal">name</span></dt>
<dd><p>The content of the <span class="docutils literal">name</span> element provides a short name for the virtual
network. This name should consist only of alphanumeric characters and is
required to be unique within the scope of a single host. It is used to form
the filename for storing the persistent configuration file. <span class="since">Since
0.3.0</span></p>
</dd>
<dt><span class="docutils literal">uuid</span></dt>
<dd><p>The content of the <span class="docutils literal">uuid</span> element provides a globally unique identifier for
the virtual network. The format must be RFC 4122 compliant, eg
<span class="docutils literal"><span class="pre">3e3fce45-4f53-4fa7-bb32-11f34168b82b</span></span>. If omitted when defining/creating a
new network, a random UUID is generated. <span class="since">Since 0.3.0</span>
The <span class="docutils literal">metadata</span> node can be used by applications to store custom metadata in
the form of XML nodes/trees. Applications must use custom namespaces on their
XML nodes/trees, with only one top-level element per namespace (if the
application needs structure, they should have sub-elements to their namespace
element). <span class="since">Since 2.1.0</span></p>
</dd>
<dt><span class="docutils literal">ipv6</span></dt>
<dd><p>When set to <span class="docutils literal">yes</span>, the optional parameter <span class="docutils literal">ipv6</span> enables a network
definition with no IPv6 gateway addresses specified to have guest-to-guest
communications. For further information, see the example below for the
example with no gateway addresses. <span class="since">Since 1.0.1</span></p>
</dd>
<dt><span class="docutils literal">trustGuestRxFilters</span></dt>
<dd><p>The optional parameter <span class="docutils literal">trustGuestRxFilters</span> can be used to set that
attribute of the same name for each domain interface connected to this
network ( <span class="since">since 1.2.10</span> ). See the <a class="reference external" href="formatdomain.html#network-interfaces">Network
interfaces</a> section of the domain XML
documentation for more details. Note that an explicit setting of this
attribute in a portgroup or the individual domain interface will override the
setting in the network.</p>
</dd>
</dl>
</div>
<div class="section" id="connectivity">
<h2><a class="toc-backref" href="#id3">Connectivity</a><a class="headerlink" href="#connectivity" title="Link to this headline">¶</a></h2>
<p>The next set of elements control how a virtual network is provided connectivity
to the physical LAN (if at all).</p>
<pre class="literal-block">...
&lt;bridge name="virbr0" stp="on" delay="5" macTableManager="libvirt"/&gt;
&lt;mtu size="9000"/&gt;
&lt;domain name="example.com" localOnly="no"/&gt;
&lt;forward mode="nat" dev="eth0"/&gt;
...</pre>
<dl>
<dt><span class="docutils literal">bridge</span></dt>
<dd><p>The <span class="docutils literal">name</span> attribute on the <span class="docutils literal">bridge</span> element defines the name of a bridge
device which will be used to construct the virtual network. The virtual
machines will be connected to this bridge device allowing them to talk to
each other. The bridge device may also be connected to the LAN. When defining
a new network with a <span class="docutils literal">&lt;forward&gt;</span> mode of "nat", "route", or "open" (or an
isolated network with no <span class="docutils literal">&lt;forward&gt;</span> element), libvirt will automatically
generate a unique name for the bridge device if none is given, and this name
will be permanently stored in the network configuration so that that the same
name will be used every time the network is started. For these types of
networks (nat, route, open, and isolated), a bridge name beginning with the
prefix "virbr" is recommended (and that is what is auto-generated), but not
enforced. Attribute <span class="docutils literal">stp</span> specifies if Spanning Tree Protocol is 'on' or
'off' (default is 'on'). Attribute <span class="docutils literal">delay</span> sets the bridge's forward delay
value in seconds (default is 0). <span class="since">Since 0.3.0</span></p>
<p>The <span class="docutils literal">macTableManager</span> attribute of the bridge element is used to tell
libvirt how the bridge's MAC address table (used to determine the correct
egress port for packets based on destination MAC address) will be managed. In
the default <span class="docutils literal">kernel</span> setting, the kernel automatically adds and removes
entries, typically using learning, flooding, and promiscuous mode on the
bridge's ports in order to determine the proper egress port for packets. When
<span class="docutils literal">macTableManager</span> is set to <span class="docutils literal">libvirt</span>, libvirt disables kernel management
of the MAC table (in the case of the Linux host bridge, this means enabling
vlan_filtering on the bridge, and disabling learning and unicast_filter for
all bridge ports), and explicitly adds/removes entries to the table according
to the MAC addresses in the domain interface configurations. Allowing libvirt
to manage the MAC table can improve performance - with a Linux host bridge,
for example, turning off learning and unicast_flood on ports has its own
performance advantage, and can also lead to an additional boost by permitting
the kernel to automatically turn off promiscuous mode on some ports of the
bridge (in particular, the port attaching the bridge to the physical
network). However, it can also cause some networking setups to stop working
(e.g. vlan tagging, multicast, guest-initiated changes to MAC address) and is
not supported by older kernels. <span class="since">Since 1.2.11, requires kernel 3.17 or
newer</span></p>
<p>The optional <span class="docutils literal">zone</span> attribute of the <span class="docutils literal">bridge</span> element is used to specify
the <a class="reference external" href="https://firewalld.org">firewalld</a> zone for the bridge of a network
with <span class="docutils literal">forward</span> mode of "nat", "route", "open", or one with no <span class="docutils literal">forward</span>
specified. By default, the bridges of all virtual networks with these forward
modes are placed in the firewalld zone named "libvirt", which permits
incoming DNS, DHCP, TFTP, and SSH to the host from guests on the network.
This behavior can be changed either by modifying the libvirt zone (using
firewalld management tools), or by placing the network in a different zone
(which will also be managed using firewalld tools). <span class="since">Since 5.1.0</span></p>
</dd>
<dt><span class="docutils literal">mtu</span></dt>
<dd><p>The <span class="docutils literal">size</span> attribute of the <span class="docutils literal">mtu&gt;</span> element specifies the Maximum
Transmission Unit (MTU) for the network. <span class="since">Since 3.1.0</span> . In the case
of a libvirt-managed network (one with forward mode of <span class="docutils literal">nat</span>, <span class="docutils literal">route</span>,
<span class="docutils literal">open</span>, or no <span class="docutils literal">forward</span> element (i.e. an isolated network), this will be
the MTU assigned to the bridge device when libvirt creates it, and thereafter
also assigned to all tap devices created to connect guest interfaces. Network
types not specifically mentioned here don't support having an MTU set in the
libvirt network config. If mtu size is unspecified, the default setting for
the type of device being used is assumed (usually 1500).</p>
</dd>
<dt><span class="docutils literal">domain</span></dt>
<dd><p>The <span class="docutils literal">name</span> attribute on the <span class="docutils literal">domain</span> element defines the DNS domain of
the DHCP server. This element is optional, and is only used for those
networks with a <span class="docutils literal">&lt;forward&gt;</span> mode of "nat" or "route" (or an isolated
network with no <span class="docutils literal">&lt;forward&gt;</span> element). <span class="since">Since 0.4.5</span></p>
<p>If the optional <span class="docutils literal">localOnly</span> attribute on the <span class="docutils literal">domain</span> element is "yes",
then DNS requests under this domain will only be resolved by the virtual
network's own DNS server - they will not be forwarded to the host's upstream
DNS server. If <span class="docutils literal">localOnly</span> is "no", and by default, unresolved requests
<strong>will</strong> be forwarded. <span class="since">Since 1.2.12</span></p>
</dd>
<dt><span class="docutils literal">forward</span></dt>
<dd><p>Inclusion of the <span class="docutils literal">forward</span> element indicates that the virtual network is to
be connected to the physical LAN. <span class="since">Since 0.3.0.</span> The <span class="docutils literal">mode</span>
attribute determines the method of forwarding. If there is no <span class="docutils literal">forward</span>
element, the network will be isolated from any other network (unless a guest
connected to that network is acting as a router, of course). The following
are valid settings for <span class="docutils literal">mode</span> (if there is a <span class="docutils literal">forward</span> element but mode
is not specified, <span class="docutils literal"><span class="pre">mode='nat'</span></span> is assumed):</p>
<dl>
<dt><span class="docutils literal">nat</span></dt>
<dd><p>All traffic between guests connected to this network and the physical
network will be forwarded to the physical network via the host's IP
routing stack, after the guest's IP address is translated to appear as the
host machine's public IP address (a.k.a. Network Address Translation, or
"NAT"). This allows multiple guests, all having access to the physical
network, on a host that is only allowed a single public IP address. If a
network has any IPv6 addresses defined, the IPv6 traffic will be forwarded
using plain routing, since IPv6 has no concept of NAT. Firewall rules will
allow outbound connections to any other network device whether ethernet,
wireless, dialup, or VPN. If the <span class="docutils literal">dev</span> attribute is set, the firewall
rules will restrict forwarding to the named device only. Inbound
connections from other networks are all prohibited; all connections
between guests on the same network, and to/from the host to the guests,
are unrestricted and not NATed. <span class="since">Since 0.4.2</span></p>
<p><span class="since">Since 1.0.3</span> it is possible to specify a public IPv4 address and
port range to be used for the NAT by using the <span class="docutils literal">&lt;nat&gt;</span> subelement. Note
that all addresses from the range are used, not just those that are in use
on the host. The address range is set with the <span class="docutils literal">&lt;address&gt;</span> subelements
and <span class="docutils literal">start</span> and <span class="docutils literal">stop</span> attributes:</p>
<pre class="literal-block">...
  &lt;forward mode='nat'&gt;
    &lt;nat&gt;
      &lt;address start='1.2.3.4' end='1.2.3.10'/&gt;
    &lt;/nat&gt;
  &lt;/forward&gt;
...</pre>
<p>A single IPv4 address can be set by setting <span class="docutils literal">start</span> and <span class="docutils literal">end</span>
attributes to the same value.</p>
<p>The port range to be used for the <span class="docutils literal">&lt;nat&gt;</span> can be set via the subelement
<span class="docutils literal">&lt;port&gt;</span>:</p>
<pre class="literal-block">...
  &lt;forward mode='nat'&gt;
    &lt;nat&gt;
      &lt;port start='500' end='1000'/&gt;
    &lt;/nat&gt;
  &lt;/forward&gt;
...</pre>
<p><span class="since">Since 6.5.0</span> it is possible to enable NAT with IPv6 networking. As
noted above, IPv6 has historically done plain forwarding and thus to avoid
breaking historical compatibility, IPv6 NAT must be explicitly requested.</p>
<pre class="literal-block">...
  &lt;forward mode='nat'&gt;
    &lt;nat ipv6='yes'/&gt;
  &lt;/forward&gt;
...</pre>
</dd>
<dt><span class="docutils literal">route</span></dt>
<dd><p>Guest network traffic will be forwarded to the physical network via the
host's IP routing stack, but without having NAT applied. Again, if the
<span class="docutils literal">dev</span> attribute is set, firewall rules will restrict forwarding to the
named device only. This presumes that the local LAN router has suitable
routing table entries to return traffic to this host. All incoming and
outgoing sessions to guest on these networks are unrestricted. (To
restrict incoming traffic to a guest on a routed network, you can
configure <a class="reference external" href="formatnwfilter.html">nwfilter rules</a> on the guest's
interfaces.) <span class="since">Since 0.4.2</span></p>
</dd>
<dt><span class="docutils literal">open</span></dt>
<dd><p>As with mode='route', guest network traffic will be forwarded to the
physical network via the host's IP routing stack, but there will be no
firewall rules added to either enable or prevent any of this traffic. When
forward='open' is set, the <span class="docutils literal">dev</span> attribute cannot be set (because the
forward dev is enforced with firewall rules, and the purpose of
forward='open' is to have a forwarding mode where libvirt doesn't add any
firewall rules). This mode presumes that the local LAN router has suitable
routing table entries to return traffic to this host, and that some other
management system has been used to put in place any necessary firewall
rules. Although no firewall rules will be added for the network, it is of
course still possible to add restrictions for specific guests using
<a class="reference external" href="formatnwfilter.html">nwfilter rules</a> on the guests' interfaces.)
<span class="since">Since 2.2.0</span></p>
</dd>
<dt><span class="docutils literal">bridge</span></dt>
<dd><p>This network describes either 1) an existing host bridge that was
configured outside of libvirt (if a <span class="docutils literal">&lt;bridge <span class="pre">name='xyz'/&gt;</span></span> element has
been specified, <span class="since">Since 0.9.4</span> ), 2) an existing Open vSwitch bridge
that was configured outside of libvirt (if both a <span class="docutils literal">&lt;bridge <span class="pre">name='xyz'/&gt;</span></span>
element <strong>and</strong> a <span class="docutils literal">&lt;virtualport             <span class="pre">type='openvswitch'/&gt;</span></span> have
been specified <span class="since">Since 0.10.0</span> ) 3) an interface or group of
interfaces to be used for a "direct" connection via macvtap using
macvtap's "bridge" mode (if the forward element has one or more
<span class="docutils literal">&lt;interface&gt;</span> subelements, <span class="since">Since 0.9.4</span> ) (see <a class="reference external" href="formatdomain.html#direct-attachment-to-physical-interface">Direct
attachment to physical interface</a>
for descriptions of the various macvtap modes). libvirt doesn't attempt to
manage the bridge interface at all, thus the <span class="docutils literal">&lt;bridge&gt;</span> element's
<span class="docutils literal">stp</span> and <span class="docutils literal">delay</span> attributes are not allowed; no iptables rules, IP
addresses, or DHCP/DNS services are added; at the IP level, the guest
interface appears to be directly connected to the physical interface.
<span class="since">Since 0.9.4</span></p>
</dd>
<dt><span class="docutils literal">private</span></dt>
<dd><p>This network uses a macvtap "direct" connection in "private" mode to
connect each guest to the network. The physical interface to be used will
be picked from among those listed in <span class="docutils literal">&lt;interface&gt;</span> subelements of the
<span class="docutils literal">&lt;forward&gt;</span> element; when using 802.1Qbh mode (as indicated by the
<span class="docutils literal">&lt;virtualport&gt;</span> type attribute - note that this requires an
802.1Qbh-capable hardware switch), each physical interface can only be in
use by a single guest interface at a time; in modes other than 802.1Qbh,
multiple guest interfaces can share each physical interface (libvirt will
attempt to balance usage between all available interfaces). <span class="since">Since
0.9.4</span></p>
</dd>
<dt><span class="docutils literal">vepa</span></dt>
<dd><p>This network uses a macvtap "direct" connection in "vepa" mode to connect
each guest to the network (this requires that the physical interfaces used
be connected to a vepa-capable hardware switch. The physical interface to
be used will be picked from among those listed in <span class="docutils literal">&lt;interface&gt;</span>
subelements of the <span class="docutils literal">&lt;forward&gt;</span> element; multiple guest interfaces can
share each physical interface (libvirt will attempt to balance usage
between all available interfaces). <span class="since">Since 0.9.4</span></p>
</dd>
<dt><span class="docutils literal">passthrough</span></dt>
<dd><p>This network uses a macvtap "direct" connection in "passthrough" mode to
connect each guest to the network (note that this is <em>not</em> the same thing
as "PCI passthrough"). The physical interface to be used will be picked
from among those listed in <span class="docutils literal">&lt;interface&gt;</span> subelements of the
<span class="docutils literal">&lt;forward&gt;</span> element. Each physical interface can only be in use by a
single guest interface at a time, so libvirt will keep track of which
interfaces are currently in use, and only assign unused interfaces (if
there are no available physical interfaces when a domain interface is
being attached, an error will be logged, and the operation causing the
attach will fail (usually either a domain start, or a hotplug interface
attach to a domain). <span class="since">Since 0.9.4</span></p>
</dd>
<dt><span class="docutils literal">hostdev</span></dt>
<dd><p>This network facilitates PCI Passthrough of a network device. A network
device is chosen from the interface pool and directly assigned to the
guest using generic device passthrough, after first optionally setting the
device's MAC address and vlan tag to the configured value, and optionally
associating the device with an 802.1Qbh capable switch using a
<span class="docutils literal">&lt;virtualport&gt;</span> element. Note that - due to limitations in standard
single-port PCI ethernet card driver design - only SR-IOV (Single Root I/O
Virtualization) virtual function (VF) devices can be assigned in this
manner; to assign a standard single-port PCI or PCIe ethernet card to a
guest, use the traditional <span class="docutils literal">&lt;hostdev&gt;</span> device definition. :since:` Since
0.10.0`</p>
<p>To force use of a particular type of device assignment, a &lt;forward
type='hostdev'&gt; interface can have an optional <span class="docutils literal">driver</span> sub-element with
a <span class="docutils literal">name</span> attribute set to either "vfio" (VFIO is a new method of device
assignment that is compatible with UEFI Secure Boot) or "kvm" (the legacy
device assignment handled directly by the KVM kernel module) <span class="since">Since
1.0.5 (QEMU and KVM only, requires kernel 3.6 or newer)</span> . When specified,
device assignment will fail if the requested method of device assignment
isn't available on the host. When not specified, the default is "vfio" on
systems where the VFIO driver is available and loaded, and "kvm" on older
systems, or those where the VFIO driver hasn't been loaded <span class="since">Since
1.1.3</span> (prior to that the default was always "kvm").</p>
<p>Note that this "intelligent passthrough" of network devices is very
similar to the functionality of a standard <span class="docutils literal">&lt;hostdev&gt;</span> device, the
difference being that this method allows specifying a MAC address, vlan
tag, and <span class="docutils literal">&lt;virtualport&gt;</span> for the passed-through device. If these
capabilities are not required, if you have a standard single-port PCI,
PCIe, or USB network card that doesn't support SR-IOV (and hence would
anyway lose the configured MAC address during reset after being assigned
to the guest domain), or if you are using a version of libvirt older than
0.10.0, you should use a standard <span class="docutils literal">&lt;hostdev&gt;</span> device definition in the
domain's configuration to assign the device to the guest instead of
defining an <span class="docutils literal">&lt;interface             <span class="pre">type='network'&gt;</span></span> pointing to a
network with <span class="docutils literal">&lt;forward <span class="pre">mode='hostdev'/&gt;</span></span>.</p>
</dd>
</dl>
<p>As mentioned above, a <span class="docutils literal">&lt;forward&gt;</span> element can have multiple <span class="docutils literal">&lt;interface&gt;</span>
subelements, each one giving the name of a physical interface that can be
used for this network <span class="since">Since 0.9.4</span> :</p>
<pre class="literal-block">...
  &lt;forward mode='passthrough'&gt;
    &lt;interface dev='eth10'/&gt;
    &lt;interface dev='eth11'/&gt;
    &lt;interface dev='eth12'/&gt;
    &lt;interface dev='eth13'/&gt;
    &lt;interface dev='eth14'/&gt;
  &lt;/forward&gt;
...</pre>
<p><span class="since">since 0.10.0</span> , <span class="docutils literal">&lt;interface&gt;</span> also has an optional read-only
attribute - when examining the live configuration of a network, the attribute
<span class="docutils literal">connections</span>, if present, specifies the number of guest interfaces
currently connected via this physical interface.</p>
<p>Additionally, <span class="since">since 0.9.10</span> , libvirt allows a shorthand for
specifying all virtual interfaces associated with a single physical function,
by using the <span class="docutils literal">&lt;pf&gt;</span> subelement to call out the corresponding physical
interface associated with multiple virtual interfaces:</p>
<pre class="literal-block">...
  &lt;forward mode='passthrough'&gt;
    &lt;pf dev='eth0'/&gt;
  &lt;/forward&gt;
...</pre>
<p>When a guest interface is being constructed, libvirt will pick an interface
from this list to use for the connection. In modes where physical interfaces
can be shared by multiple guest interfaces, libvirt will choose the interface
that currently has the least number of connections. For those modes that do
not allow sharing of the physical device (in particular, 'passthrough' mode,
and 'private' mode when using 802.1Qbh), libvirt will choose an unused
physical interface or, if it can't find an unused interface, fail the
operation.</p>
<p><span class="since">since 0.10.0</span> When using forward mode 'hostdev', the interface pool
is specified with a list of <span class="docutils literal">&lt;address&gt;</span> elements, each of which has
<span class="docutils literal">&lt;type&gt;</span> (must always be <span class="docutils literal">'pci'</span>), <span class="docutils literal">&lt;domain&gt;</span>, <span class="docutils literal">&lt;bus&gt;</span>,
<span class="docutils literal">&lt;slot&gt;</span>and <span class="docutils literal">&lt;function&gt;</span> attributes.</p>
<pre class="literal-block">...
  &lt;forward mode='hostdev' managed='yes'&gt;
    &lt;driver name='vfio'/&gt;
    &lt;address type='pci' domain='0' bus='4' slot='0' function='1'/&gt;
    &lt;address type='pci' domain='0' bus='4' slot='0' function='2'/&gt;
    &lt;address type='pci' domain='0' bus='4' slot='0' function='3'/&gt;
  &lt;/forward&gt;
...</pre>
<p>Alternatively the interface pool can also be defined using a single physical
function <span class="docutils literal">&lt;pf&gt;</span> subelement to call out the corresponding physical interface
associated with multiple virtual interfaces (similar to passthrough mode):</p>
<pre class="literal-block">...
  &lt;forward mode='hostdev' managed='yes'&gt;
    &lt;pf dev='eth0'/&gt;
  &lt;/forward&gt;
...</pre>
</dd>
</dl>
<div class="section" id="quality-of-service">
<h3><a class="toc-backref" href="#id4">Quality of service</a><a class="headerlink" href="#quality-of-service" title="Link to this headline">¶</a></h3>
<pre class="literal-block">...
  &lt;forward mode='nat' dev='eth0'/&gt;
  &lt;bandwidth&gt;
    &lt;inbound average='1000' peak='5000' burst='5120'/&gt;
    &lt;outbound average='128' peak='256' burst='256'/&gt;
  &lt;/bandwidth&gt;
...</pre>
<p>The <span class="docutils literal">&lt;bandwidth&gt;</span> element allows setting quality of service for a particular
network ( <span class="since">since 0.9.4</span> ). Setting <span class="docutils literal">bandwidth</span> for a network is
supported only for networks with a <span class="docutils literal">&lt;forward&gt;</span> mode of <span class="docutils literal">route</span>, <span class="docutils literal">nat</span>,
<span class="docutils literal">bridge</span>, or no mode at all (i.e. an "isolated" network). Setting
<span class="docutils literal">bandwidth</span> is <strong>not</strong> supported for forward modes <span class="docutils literal">passthrough</span>,
<span class="docutils literal">private</span>, or <span class="docutils literal">hostdev</span>. Attempts to do this will lead to a failure to
define the network or to create a transient network.</p>
<p>The <span class="docutils literal">&lt;bandwidth&gt;</span> element can only be a subelement of a domain's
<span class="docutils literal">&lt;interface&gt;</span>, a subelement of a <span class="docutils literal">&lt;network&gt;</span>, or a subelement of a
<span class="docutils literal">&lt;portgroup&gt;</span> in a <span class="docutils literal">&lt;network&gt;</span>.</p>
<p>As a subelement of a domain's <span class="docutils literal">&lt;interface&gt;</span>, the bandwidth only applies to
that one interface of the domain. As a subelement of a <span class="docutils literal">&lt;network&gt;</span>, the
bandwidth is a total aggregate bandwidth to/from all guest interfaces attached
to that network, <strong>not</strong> to each guest interface individually. If a domain's
<span class="docutils literal">&lt;interface&gt;</span> has <span class="docutils literal">&lt;bandwidth&gt;</span> element values higher than the aggregate for
the entire network, then the aggregate bandwidth for the <span class="docutils literal">&lt;network&gt;</span> takes
precedence. This is because the two choke points are independent of each other
where the domain's <span class="docutils literal">&lt;interface&gt;</span> bandwidth control is applied on the
interface's tap device, while the <span class="docutils literal">&lt;network&gt;</span> bandwidth control is applied on
the interface part of the bridge device created for that network.</p>
<p>As a subelement of a <span class="docutils literal">&lt;portgroup&gt;</span> in a <span class="docutils literal">&lt;network&gt;</span>, if a domain's
<span class="docutils literal">&lt;interface&gt;</span> has a <span class="docutils literal">portgroup</span> attribute in its <span class="docutils literal">&lt;source&gt;</span> element
<strong>and</strong> if the <span class="docutils literal">&lt;interface&gt;</span> itself has no <span class="docutils literal">&lt;bandwidth&gt;</span> element, then the
<span class="docutils literal">&lt;bandwidth&gt;</span> element of the portgroup will be applied individually to each
guest interface defined to be a member of that portgroup. Any <span class="docutils literal">&lt;bandwidth&gt;</span>
element in the domain's <span class="docutils literal">&lt;interface&gt;</span> definition will override the setting in
the portgroup ( <span class="since">since 1.0.1</span> ).</p>
<p>Incoming and outgoing traffic can be shaped independently. The <span class="docutils literal">bandwidth</span>
element can have at most one <span class="docutils literal">inbound</span> and at most one <span class="docutils literal">outbound</span> child
element. Leaving either of these children elements out results in no QoS applied
for that traffic direction. So, when you want to shape only incoming traffic,
use <span class="docutils literal">inbound</span> only, and vice versa. Each of these elements have one mandatory
attribute - <span class="docutils literal">average</span> (or <span class="docutils literal">floor</span> as described below). The attributes are as
follows, where accepted values for each attribute is an integer number.</p>
<dl class="simple">
<dt><span class="docutils literal">average</span></dt>
<dd><p>Specifies the desired average bit rate for the interface being shaped (in
kilobytes/second).</p>
</dd>
<dt><span class="docutils literal">peak</span></dt>
<dd><p>Optional attribute which specifies the maximum rate at which the bridge can
send data (in kilobytes/second). Note the limitation of implementation: this
attribute in the <span class="docutils literal">outbound</span> element is ignored (as Linux ingress filters
don't know it yet).</p>
</dd>
<dt><span class="docutils literal">burst</span></dt>
<dd><p>Optional attribute which specifies the amount of kibibytes that can be
transmitted in a single burst at <span class="docutils literal">peak</span> speed.</p>
</dd>
<dt><span class="docutils literal">floor</span></dt>
<dd><p>Optional attribute available only for the <span class="docutils literal">inbound</span> element. This attribute
guarantees minimal throughput for shaped interfaces. This, however, requires
that all traffic goes through one point where QoS decisions can take place,
hence why this attribute works only for virtual networks for now (that is
<span class="docutils literal">&lt;interface <span class="pre">type='network'/&gt;</span></span> with a forward type of route, nat, open or no
forward at all). Moreover, the virtual network the interface is connected to
is required to have at least inbound QoS set (<span class="docutils literal">average</span> at least). If using
the <span class="docutils literal">floor</span> attribute users don't need to specify <span class="docutils literal">average</span>. However,
<span class="docutils literal">peak</span> and <span class="docutils literal">burst</span> attributes still require <span class="docutils literal">average</span>. Currently, the
Linux kernel doesn't allow ingress qdiscs to have any classes therefore
<span class="docutils literal">floor</span> can be applied only on <span class="docutils literal">inbound</span> and not <span class="docutils literal">outbound</span>.</p>
</dd>
</dl>
<p>Attributes <span class="docutils literal">average</span>, <span class="docutils literal">peak</span>, and <span class="docutils literal">burst</span> are available <span class="since">since
0.9.4</span> , while the <span class="docutils literal">floor</span> attribute is available <span class="since">since 1.0.1</span> .</p>
</div>
<div class="section" id="setting-vlan-tag-on-supported-network-types-only">
<h3><a class="toc-backref" href="#id5">Setting VLAN tag (on supported network types only)</a><a class="headerlink" href="#setting-vlan-tag-on-supported-network-types-only" title="Link to this headline">¶</a></h3>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;ovs-net&lt;/name&gt;
  &lt;forward mode='bridge'/&gt;
  &lt;bridge name='ovsbr0'/&gt;
  &lt;virtualport type='openvswitch'&gt;
    &lt;parameters interfaceid='09b11c53-8b5c-4eeb-8f00-d84eaa0aaa4f'/&gt;
  &lt;/virtualport&gt;
  &lt;vlan trunk='yes'&gt;
    &lt;tag id='42' nativeMode='untagged'/&gt;
    &lt;tag id='47'/&gt;
  &lt;/vlan&gt;
  &lt;portgroup name='dontpanic'&gt;
    &lt;vlan&gt;
      &lt;tag id='42'/&gt;
    &lt;/vlan&gt;
  &lt;/portgroup&gt;
&lt;/network&gt;</pre>
<p>If (and only if) the network connection used by the guest supports VLAN tagging
transparent to the guest, an optional <span class="docutils literal">&lt;vlan&gt;</span> element can specify one or more
VLAN tags to apply to the guest's network traffic <span class="since">Since 0.10.0</span> .
Network connections that support guest-transparent VLAN tagging include 1)
type='bridge' interfaces connected to an Open vSwitch bridge <span class="since">Since
0.10.0</span> , 2) SRIOV Virtual Functions (VF) used via type='hostdev' (direct device
assignment) <span class="since">Since 0.10.0</span> , and 3) SRIOV VFs used via type='direct' with
mode='passthrough' (macvtap "passthru" mode) <span class="since">Since 1.3.5</span> . All other
connection types, including standard linux bridges and libvirt's own virtual
networks, <strong>do not</strong> support it. 802.1Qbh (vn-link) and 802.1Qbg (VEPA) switches
provide their own way (outside of libvirt) to tag guest traffic onto a specific
VLAN. Each tag is given in a separate <span class="docutils literal">&lt;tag&gt;</span> subelement of <span class="docutils literal">&lt;vlan&gt;</span> (for
example: <span class="docutils literal">&lt;tag       <span class="pre">id='42'/&gt;</span></span>). For VLAN trunking of multiple tags (which is
supported only on Open vSwitch connections), multiple <span class="docutils literal">&lt;tag&gt;</span> subelements can
be specified, which implies that the user wants to do VLAN trunking on the
interface for all the specified tags. In the case that VLAN trunking of a single
tag is desired, the optional attribute <span class="docutils literal"><span class="pre">trunk='yes'</span></span> can be added to the
toplevel <span class="docutils literal">&lt;vlan&gt;</span> element to differentiate trunking of a single tag from
normal tagging.</p>
<p>For network connections using Open vSwitch it is also possible to configure
'native-tagged' and 'native-untagged' VLAN modes <span class="since">Since 1.1.0.</span> This is
done with the optional <span class="docutils literal">nativeMode</span> attribute on the <span class="docutils literal">&lt;tag&gt;</span> subelement:
<span class="docutils literal">nativeMode</span> may be set to 'tagged' or 'untagged'. The <span class="docutils literal">id</span> attribute of the
<span class="docutils literal">&lt;tag&gt;</span> subelement containing <span class="docutils literal">nativeMode</span> sets which VLAN is considered to
be the "native" VLAN for this interface, and the <span class="docutils literal">nativeMode</span> attribute
determines whether or not traffic for that VLAN will be tagged.</p>
<p><span class="docutils literal">&lt;vlan&gt;</span> elements can also be specified in a <span class="docutils literal">&lt;portgroup&gt;</span> element, as well
as directly in a domain's <span class="docutils literal">&lt;interface&gt;</span> element. In the case that a vlan tag
is specified in multiple locations, the setting in <span class="docutils literal">&lt;interface&gt;</span> takes
precedence, followed by the setting in the <span class="docutils literal">&lt;portgroup&gt;</span> selected by the
interface config. The <span class="docutils literal">&lt;vlan&gt;</span> in <span class="docutils literal">&lt;network&gt;</span> will be selected only if none
is given in <span class="docutils literal">&lt;portgroup&gt;</span> or <span class="docutils literal">&lt;interface&gt;</span>.</p>
</div>
<div class="section" id="isolating-ports-from-one-another">
<h3><a class="toc-backref" href="#id6">Isolating ports from one another</a><a class="headerlink" href="#isolating-ports-from-one-another" title="Link to this headline">¶</a></h3>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;isolated-ports&lt;/name&gt;
  &lt;forward mode='bridge'/&gt;
  &lt;bridge name='br0'/&gt;
  &lt;port isolated='yes'/&gt;
&lt;/network&gt;</pre>
<p><span class="since">Since 6.1.0.</span> The <span class="docutils literal">port</span> element property <span class="docutils literal">isolated</span>, when set to
<span class="docutils literal">yes</span> (default setting is <span class="docutils literal">no</span>) is used to isolate the network traffic of
each guest on the network from all other guests connected to the network; it
does not have an effect on communication between the guests and the host, or
between the guests and destinations beyond this network. This setting is only
supported for networks that use a Linux host bridge to connect guest interfaces
via a standard tap device (i.e. those with a forward mode of nat, route, open,
bridge, or no forward mode).</p>
</div>
<div class="section" id="portgroups">
<h3><a class="toc-backref" href="#id7">Portgroups</a><a class="headerlink" href="#portgroups" title="Link to this headline">¶</a></h3>
<pre class="literal-block">...
  &lt;forward mode='private'/&gt;
    &lt;interface dev="eth20"/&gt;
    &lt;interface dev="eth21"/&gt;
    &lt;interface dev="eth22"/&gt;
    &lt;interface dev="eth23"/&gt;
    &lt;interface dev="eth24"/&gt;
  &lt;/forward&gt;
  &lt;portgroup name='engineering' default='yes'&gt;
    &lt;virtualport type='802.1Qbh'&gt;
      &lt;parameters profileid='test'/&gt;
    &lt;/virtualport&gt;
    &lt;bandwidth&gt;
      &lt;inbound average='1000' peak='5000' burst='5120'/&gt;
      &lt;outbound average='1000' peak='5000' burst='5120'/&gt;
    &lt;/bandwidth&gt;
  &lt;/portgroup&gt;
  &lt;portgroup name='sales' trustGuestRxFilters='no'&gt;
    &lt;virtualport type='802.1Qbh'&gt;
      &lt;parameters profileid='salestest'/&gt;
    &lt;/virtualport&gt;
    &lt;bandwidth&gt;
      &lt;inbound average='500' peak='2000' burst='2560'/&gt;
      &lt;outbound average='128' peak='256' burst='256'/&gt;
    &lt;/bandwidth&gt;
  &lt;/portgroup&gt;
...</pre>
<p><span class="since">Since 0.9.4</span> A portgroup provides a method of easily putting guest
connections to the network into different classes, with each class potentially
having a different level/type of service. <span class="since">Since 0.9.4</span> Each network can
have multiple portgroup elements (and one of those can optionally be designated
as the 'default' portgroup for the network), and each portgroup has a name, as
well as various attributes and subelements associated with it. The currently
supported subelements are <span class="docutils literal">&lt;bandwidth&gt;</span> (described in <a class="reference internal" href="#quality-of-service">Quality of service</a>)
and <span class="docutils literal">&lt;virtualport&gt;</span> (documented
<a class="reference external" href="formatdomain.html#direct-attachment-to-physical-interface">here</a>). If a domain interface
definition specifies a portgroup (by adding a <span class="docutils literal">portgroup</span> attribute to the
<span class="docutils literal">&lt;source&gt;</span> subelement), that portgroup's info will be merged into the
interface's configuration. If no portgroup is given in the interface definition,
and one of the network's portgroups has <span class="docutils literal"><span class="pre">default='yes'</span></span>, that default
portgroup will be used. If no portgroup is given in the interface definition,
and there is no default portgroup, then none will be used. Any <span class="docutils literal">&lt;bandwidth&gt;</span>
specified directly in the domain XML will take precedence over any setting in
the chosen portgroup. if a <span class="docutils literal">&lt;virtualport&gt;</span> is specified in the portgroup
(and/or directly in the network definition), the multiple virtualports will be
merged, and any parameter that is specified in more than one virtualport, and is
not identical, will be considered an error, and will prevent the interface from
starting.</p>
<p>portgroups also support the optional parameter <span class="docutils literal">trustGuestRxFilters</span> which can
be used to set that attribute of the same name for each domain interface using
this portgroup ( <span class="since">since 1.2.10</span> ). See the <a class="reference external" href="formatdomain.html#network-interfaces">Network
interfaces</a> section of the domain XML
documentation for more details. Note that an explicit setting of this attribute
in the portgroup overrides the network-wide setting, and an explicit setting in
the individual domain interface will override the setting in the portgroup.</p>
</div>
<div class="section" id="static-routes">
<h3><a class="toc-backref" href="#id8">Static Routes</a><a class="headerlink" href="#static-routes" title="Link to this headline">¶</a></h3>
<p>Static route definitions are used to provide routing information to the
virtualization host for networks which are not directly reachable from the
virtualization host, but *are* reachable from a guest domain that is itself
reachable from the host <span class="since">since 1.0.6</span> .</p>
<p>As shown in <a class="reference internal" href="#network-config-with-no-gateway-addresses">Network config with no gateway addresses</a> example, it is
possible to define a virtual network interface with no IPv4 or IPv6 addresses.
Such networks are useful to provide host connectivity to networks which are only
reachable via a guest. A guest with connectivity both to the guest-only network
and to another network that is directly reachable from the host can act as a
gateway between the networks. A static route added to the "host-visible" network
definition provides the routing information so that IP packets can be sent from
the virtualization host to guests on the hidden network.</p>
<p>Here is a fragment of a definition which shows the static route specification as
well as the IPv4 and IPv6 definitions for network addresses which are referred
to in the <span class="docutils literal">gateway</span> gateway address specifications. Note that the third static
route specification includes the <span class="docutils literal">metric</span> attribute specification with a value
of 2. This particular route would *not* be preferred if there was another
existing rout on the system with the same address and prefix but with a lower
value for the metric. If there is a route in the host system configuration that
should be overridden by a route in a virtual network whenever the virtual
network is running, the configuration for the system-defined route should be
modified to have a higher metric, and the route on the virtual network given a
lower metric (for example, the default metric of "1").</p>
<pre class="literal-block">...
  &lt;ip address="192.168.122.1" netmask="255.255.255.0"&gt;
    &lt;dhcp&gt;
      &lt;range start="192.168.122.128" end="192.168.122.254"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;route address="192.168.222.0" prefix="24" gateway="192.168.122.2"/&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:2::1" prefix="64"/&gt;
  &lt;route family="ipv6" address="2001:db8:ca2:3::" prefix="64" gateway="2001:db8:ca2:2::2"/&gt;
  &lt;route family="ipv6" address="2001:db9:4:1::" prefix="64" gateway="2001:db8:ca2:2::3" metric='2'/&gt;
...</pre>
</div>
</div>
<div class="section" id="addressing">
<h2><a class="toc-backref" href="#id9">Addressing</a><a class="headerlink" href="#addressing" title="Link to this headline">¶</a></h2>
<p>The final set of elements define the addresses (IPv4 and/or IPv6, as well as
MAC) to be assigned to the bridge device associated with the virtual network,
and optionally enable DHCP services. These elements are only valid for isolated
networks (no <span class="docutils literal">forward</span> element specified), and for those with a forward mode
of 'route' or 'nat'.</p>
<pre class="literal-block">...
&lt;mac address='00:16:3E:5D:C7:9E'/&gt;
&lt;domain name="example.com"/&gt;
&lt;dns&gt;
  &lt;txt name="example" value="example value"/&gt;
  &lt;forwarder addr="8.8.8.8"/&gt;
  &lt;forwarder domain='example.com' addr="8.8.4.4"/&gt;
  &lt;forwarder domain='www.example.com'/&gt;
  &lt;srv service='name' protocol='tcp' domain='test-domain-name' target='.'
    port='1024' priority='10' weight='10'/&gt;
  &lt;host ip='192.168.122.2'&gt;
    &lt;hostname&gt;myhost&lt;/hostname&gt;
    &lt;hostname&gt;myhostalias&lt;/hostname&gt;
  &lt;/host&gt;
&lt;/dns&gt;
&lt;ip address="192.168.122.1" netmask="255.255.255.0" localPtr="yes"&gt;
  &lt;dhcp&gt;
    &lt;range start="192.168.122.100" end="192.168.122.254"&gt;
      &lt;lease expiry='1' unit='hours'/&gt;
    &lt;/range&gt;
    &lt;host mac="00:16:3e:77:e2:ed" name="foo.example.com" ip="192.168.122.10"&gt;
      &lt;lease expiry='30' unit='minutes'/&gt;
    &lt;/host&gt;
    &lt;host mac="00:16:3e:3e:a9:1a" name="bar.example.com" ip="192.168.122.11"/&gt;
  &lt;/dhcp&gt;
&lt;/ip&gt;
&lt;ip family="ipv6" address="2001:db8:ca2:2::1" prefix="64" localPtr="yes"/&gt;
&lt;route family="ipv6" address="2001:db9:ca1:1::" prefix="64" gateway="2001:db8:ca2:2::2"/&gt;</pre>
<dl>
<dt><span class="docutils literal">mac</span></dt>
<dd><p>The <span class="docutils literal">address</span> attribute defines a MAC (hardware) address formatted as 6
groups of 2-digit hexadecimal numbers, the groups separated by colons (eg,
<span class="docutils literal">"52:54:00:1C:DA:2F"</span>). This MAC address is assigned to the bridge device
when it is created. Generally it is best to not specify a MAC address when
creating a network - in this case, if a defined MAC address is needed for
proper operation, libvirt will automatically generate a random MAC address
and save it in the config. Allowing libvirt to generate the MAC address will
assure that it is compatible with the idiosyncrasies of the platform where
libvirt is running. <span class="since">Since 0.8.8</span></p>
</dd>
<dt><span class="docutils literal">dns</span></dt>
<dd><p>The dns element of a network contains configuration information for the
virtual network's DNS server <span class="since">Since 0.9.3</span> .</p>
<p>The dns element can have an optional <span class="docutils literal">enable</span> attribute <span class="since">Since
2.2.0</span> . If <span class="docutils literal">enable</span> is "no", then no DNS server will be setup by libvirt
for this network (and any other configuration in <span class="docutils literal">&lt;dns&gt;</span> will be ignored).
If <span class="docutils literal">enable</span> is "yes" or unspecified (including the complete absence of any
<span class="docutils literal">&lt;dns&gt;</span> element) then a DNS server will be setup by libvirt to listen on
all IP addresses specified in the network's configuration.</p>
<p>The dns element can have an optional <span class="docutils literal">forwardPlainNames</span> attribute
<span class="since">Since 1.1.2</span> . If <span class="docutils literal">forwardPlainNames</span> is "no", then DNS resolution
requests for names that are not qualified with a domain (i.e. names with no
"." character) will not be forwarded to the host's upstream DNS server - they
will only be resolved if they are known locally within the virtual network's
own DNS server. If <span class="docutils literal">forwardPlainNames</span> is "yes", unqualified names <strong>will</strong>
be forwarded to the upstream DNS server if they can't be resolved by the
virtual network's own DNS server.</p>
<p>Currently supported sub-elements of <span class="docutils literal">&lt;dns&gt;</span> are:</p>
<dl class="simple">
<dt><span class="docutils literal">forwarder</span></dt>
<dd><p>The dns element can have 0 or more <span class="docutils literal">&lt;forwarder&gt;</span> elements. Each
forwarder element defines an alternate DNS server to use for some, or all,
DNS requests sent to this network's DNS server. There are two attributes -
<span class="docutils literal">domain</span>, and <span class="docutils literal">addr</span>; at least one of these must be specified in any
<span class="docutils literal">&lt;forwarder&gt;</span> element. If both <span class="docutils literal">domain</span> and <span class="docutils literal">addr</span> are specified,
then all requests that match the given domain will be forwarded to the DNS
server at addr. If only <span class="docutils literal">domain</span> is specified, then all matching domains
will be resolved locally (or via the host's standard DNS forwarding if
they can't be resolved locally). If an <span class="docutils literal">addr</span> is specified by itself,
then all DNS requests to the network's DNS server will be forwarded to the
DNS server at that address with no exceptions. <span class="docutils literal">addr</span> <span class="since">Since
1.1.3</span> , <span class="docutils literal">domain</span> <span class="since">Since 2.2.0</span> .</p>
</dd>
<dt><span class="docutils literal">txt</span></dt>
<dd><p>A <span class="docutils literal">dns</span> element can have 0 or more <span class="docutils literal">txt</span> elements. Each txt element
defines a DNS TXT record and has two attributes, both required: a name
that can be queried via dns, and a value that will be returned when that
name is queried. names cannot contain embedded spaces or commas. value is
a single string that can contain multiple values separated by commas.
<span class="since">Since 0.9.3</span></p>
</dd>
<dt><span class="docutils literal">host</span></dt>
<dd><p>The <span class="docutils literal">host</span> element within <span class="docutils literal">dns</span> is the definition of DNS hosts to be
passed to the DNS service. The IP address is identified by the <span class="docutils literal">ip</span>
attribute and the names for that IP address are identified in the
<span class="docutils literal">hostname</span> sub-elements of the <span class="docutils literal">host</span> element. <span class="since">Since 0.9.3</span></p>
</dd>
<dt><span class="docutils literal">srv</span></dt>
<dd><p>The <span class="docutils literal">dns</span> element can have also 0 or more <span class="docutils literal">srv</span> record elements. Each
<span class="docutils literal">srv</span> record element defines a DNS SRV record and has 2 mandatory and 5
optional attributes. The mandatory attributes are <span class="docutils literal">service</span> and
<span class="docutils literal">protocol</span> (tcp, udp) and the optional attributes are <span class="docutils literal">target</span>,
<span class="docutils literal">port</span>, <span class="docutils literal">priority</span>, <span class="docutils literal">weight</span> and <span class="docutils literal">domain</span> as defined in DNS server
SRV RFC (RFC 2782). <span class="since">Since 0.9.9</span></p>
</dd>
</dl>
</dd>
<dt><span class="docutils literal">ip</span></dt>
<dd><p>The <span class="docutils literal">address</span> attribute defines an IPv4 address in dotted-decimal format,
or an IPv6 address in standard colon-separated hexadecimal format, that will
be configured on the bridge device associated with the virtual network. To
the guests this IPv4 address will be their IPv4 default route. For IPv6, the
default route is established via Router Advertisement. For IPv4 addresses,
the <span class="docutils literal">netmask</span> attribute defines the significant bits of the network
address, again specified in dotted-decimal format. For IPv6 addresses, and as
an alternate method for IPv4 addresses, the significant bits of the network
address can be specified with the <span class="docutils literal">prefix</span> attribute, which is an integer
(for example, <span class="docutils literal"><span class="pre">netmask='255.255.255.0'</span></span> could also be given as
<span class="docutils literal"><span class="pre">prefix='24'</span></span>). The <span class="docutils literal">family</span> attribute is used to specify the type of
address - <span class="docutils literal">ipv4</span> or <span class="docutils literal">ipv6</span>; if no <span class="docutils literal">family</span> is given, <span class="docutils literal">ipv4</span> is
assumed. More than one address of each family can be defined for a network.
The optional <span class="docutils literal">localPtr</span> attribute ( <span class="since">since 3.0.0</span> ) configures the
DNS server to not forward any reverse DNS requests for IP addresses from the
network configured by the <span class="docutils literal">address</span> and <span class="docutils literal">netmask</span>/<span class="docutils literal">prefix</span> attributes.
For some unusual network prefixes (not divisible by 8 for IPv4 or not
divisible by 4 for IPv6) libvirt may be unable to compute the PTR domain
automatically. The <span class="docutils literal">ip</span> element is supported <span class="since">since 0.3.0</span> . IPv6,
multiple addresses on a single network, <span class="docutils literal">family</span>, and <span class="docutils literal">prefix</span> are
supported <span class="since">since 0.8.7</span> . The <span class="docutils literal">ip</span> element may contain the following
elements:</p>
<dl>
<dt><span class="docutils literal">tftp</span></dt>
<dd><p>The optional <span class="docutils literal">tftp</span> element and its mandatory <span class="docutils literal">root</span> attribute enable
TFTP services. The attribute specifies the path to the root directory
served via TFTP. The <span class="docutils literal">tftp</span> element is not supported for IPv6 addresses,
and can only be specified on a single IPv4 address per network.
<span class="since">Since 0.7.1</span></p>
</dd>
<dt><span class="docutils literal">dhcp</span></dt>
<dd><p>The presence of this element enables DHCP services on the virtual network.
The <span class="docutils literal">dhcp</span> element is supported for both IPv4 ( <span class="since">since 0.3.0</span> )
and IPv6 ( <span class="since">since 1.0.1</span> ), but only for one IP address of each
type per network. The following sub-elements are supported:</p>
<dl class="simple">
<dt><span class="docutils literal">range</span></dt>
<dd><p>The <span class="docutils literal">start</span> and <span class="docutils literal">end</span> attributes on the <span class="docutils literal">range</span> element specify
the boundaries of a pool of addresses to be provided to DHCP clients.
These two addresses must lie within the scope of the network defined on
the parent <span class="docutils literal">ip</span> element. There may be zero or more <span class="docutils literal">range</span> elements
specified. <span class="since">Since 0.3.0</span></p>
</dd>
<dt><span class="docutils literal">host</span></dt>
<dd><p>Within the <span class="docutils literal">dhcp</span> element there may be zero or more <span class="docutils literal">host</span>
elements. These specify hosts which will be given names and predefined
IP addresses by the built-in DHCP server. Any IPv4 <span class="docutils literal">host</span> element
must specify the MAC address of the host to be assigned a given name
(via the <span class="docutils literal">mac</span> attribute), the IP to be assigned to that host (via
the <span class="docutils literal">ip</span> attribute), and the name itself (the <span class="docutils literal">name</span> attribute).
The IPv6 <span class="docutils literal">host</span> element differs slightly from that for IPv4: there is
no <span class="docutils literal">mac</span> attribute since a MAC address has no defined meaning in
IPv6. Instead, the <span class="docutils literal">name</span> attribute is used to identify the host to
be assigned the IPv6 address. For DHCPv6, the name is the plain name of
the client host sent by the client to the server. Note that this method
of assigning a specific IP address can also be used for IPv4 instead of
the <span class="docutils literal">mac</span> attribute. <span class="since">Since 0.4.5</span></p>
</dd>
<dt><span class="docutils literal">bootp</span></dt>
<dd><p>The optional <span class="docutils literal">bootp</span> element specifies BOOTP options to be provided
by the DHCP server for IPv4 only. Two attributes are supported:
<span class="docutils literal">file</span> is mandatory and gives the file to be used for the boot image;
<span class="docutils literal">server</span> is optional and gives the address of the TFTP server from
which the boot image will be fetched. <span class="docutils literal">server</span> defaults to the same
host that runs the DHCP server, as is the case when the <span class="docutils literal">tftp</span>
element is used. The BOOTP options currently have to be the same for
all address ranges and statically assigned addresses. <span class="since">Since
0.7.1</span> (<span class="docutils literal">server</span> <span class="since">since 0.7.3</span> )</p>
</dd>
</dl>
<p>Optionally, <span class="docutils literal">range</span> and <span class="docutils literal">host</span> elements can have <span class="docutils literal">lease</span> child
element which specifies the lease time through it's attributes <span class="docutils literal">expiry</span>
and <span class="docutils literal">unit</span> (which accepts <span class="docutils literal">seconds</span>, <span class="docutils literal">minutes</span> and <span class="docutils literal">hours</span> and
defaults to <span class="docutils literal">minutes</span> if omitted). The minimal lease time is 2 minutes,
except when setting an infinite lease time (<span class="docutils literal"><span class="pre">expiry='0'</span></span>). <span class="since">Since
6.3.0</span></p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="network-namespaces">
<h2><a class="toc-backref" href="#id10">Network namespaces</a><a class="headerlink" href="#network-namespaces" title="Link to this headline">¶</a></h2>
<p>A special XML namespace is available for passing options directly to the
underlying dnsmasq configuration file <span class="since">since 5.6.0</span> . Usage of XML
namespaces comes with no support guarantees, so use at your own risk.</p>
<p>This example XML will pass the option strings <span class="docutils literal">foo=bar</span> and
<span class="docutils literal"><span class="pre">cname=*.foo.example.com,master.example.com</span></span> directly to the underlying
dnsmasq instance.</p>
<pre class="literal-block">&lt;network xmlns:dnsmasq='http://libvirt.org/schemas/network/dnsmasq/1.0'&gt;
  ...
  &lt;dnsmasq:options&gt;
    &lt;dnsmasq:option value="foo=bar"/&gt;
    &lt;dnsmasq:option value="cname=*.foo.example.com,master.example.com"/&gt;
  &lt;/dnsmasq:options&gt;
&lt;/network&gt;</pre>
</div>
</div>
<div class="section" id="example-configuration">
<h1><a class="toc-backref" href="#id11">Example configuration</a><a class="headerlink" href="#example-configuration" title="Link to this headline">¶</a></h1>
<div class="section" id="nat-based-network">
<h2><a class="toc-backref" href="#id12">NAT based network</a><a class="headerlink" href="#nat-based-network" title="Link to this headline">¶</a></h2>
<p>This example is the so called "default" virtual network. It is provided and
enabled out-of-the-box for all libvirt installations. This is a configuration
that allows guest OS to get outbound connectivity regardless of whether the host
uses ethernet, wireless, dialup, or VPN networking without requiring any
specific admin configuration. In the absence of host networking, it at least
allows guests to talk directly to each other.</p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;default&lt;/name&gt;
  &lt;bridge name="virbr0"/&gt;
  &lt;forward mode="nat"/&gt;
  &lt;ip address="192.168.122.1" netmask="255.255.255.0"&gt;
    &lt;dhcp&gt;
      &lt;range start="192.168.122.2" end="192.168.122.254"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:2::1" prefix="64"/&gt;
&lt;/network&gt;</pre>
<p>Below is a variation of the above example which adds an IPv6 dhcp range
definition.</p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;default6&lt;/name&gt;
  &lt;bridge name="virbr0"/&gt;
  &lt;forward mode="nat"/&gt;
  &lt;ip address="192.168.122.1" netmask="255.255.255.0"&gt;
    &lt;dhcp&gt;
      &lt;range start="192.168.122.2" end="192.168.122.254"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:2::1" prefix="64"&gt;
    &lt;dhcp&gt;
      &lt;range start="2001:db8:ca2:2:1::10" end="2001:db8:ca2:2:1::ff"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;</pre>
</div>
<div class="section" id="ipv6-nat-based-network">
<h2><a class="toc-backref" href="#id13">IPv6 NAT based network</a><a class="headerlink" href="#ipv6-nat-based-network" title="Link to this headline">¶</a></h2>
<p>Below is a variation for also providing IPv6 NAT. This can be especially useful
when using multiple interfaces where some, such as WiFi cards, can not be
bridged (usually on a laptop), making it difficult to provide end-to-end IPv6
routing.</p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;default6&lt;/name&gt;
  &lt;bridge name="virbr0"/&gt;
  &lt;forward mode="nat"&gt;
    &lt;nat ipv6='yes'&gt;
      &lt;port start='1024' end='65535'/&gt;
    &lt;/nat&gt;

  &lt;ip address="192.168.122.1" netmask="255.255.255.0"&gt;
    &lt;dhcp&gt;
      &lt;range start="192.168.122.2" end="192.168.122.254"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;ip family="ipv6" address="fdXX:XXXX:XXXX:NNNN:: prefix="64"/&gt;
&lt;/network&gt;</pre>
<p>IPv6 NAT addressing has some caveats over the more straight forward IPv4 case.
<a class="reference external" href="https://tools.ietf.org/html/rfc4193">RFC 4193</a> defines the address range
fd00::/8 for /48 IPv6 private networks. It should be concatenated with a random
40-bit string (i.e. 10 random hexadecimal digits replacing the X values above,
RFC 4193 provides an
<a class="reference external" href="https://tools.ietf.org/html/rfc4193#section-3.2.2">algorithm</a> if you do not
have a source of sufficient randomness). This leaves 0 through ffff for subnets
(N above) which you can use at will.</p>
<p>Many operating systems will not consider these addresses as preferential to
IPv4, due to some practical history of these addresses being present but
unroutable and causing networking issues. On many Linux distributions, you may
need to override /etc/gai.conf with values from <a class="reference external" href="https://www.ietf.org/rfc/rfc3484.txt">RFC
3484</a> to have your IPv6 NAT network
correctly preferenced over IPv4.</p>
</div>
<div class="section" id="routed-network-config">
<h2><a class="toc-backref" href="#id14">Routed network config</a><a class="headerlink" href="#routed-network-config" title="Link to this headline">¶</a></h2>
<p>This is a variant on the default network which routes traffic from the virtual
network to the LAN without applying any NAT. It requires that the IP address
range be pre-configured in the routing tables of the router on the host network.
This example further specifies that guest traffic may only go out via the
<span class="docutils literal">eth1</span> host network device.</p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;local&lt;/name&gt;
  &lt;bridge name="virbr1"/&gt;
  &lt;forward mode="route" dev="eth1"/&gt;
  &lt;ip address="192.168.122.1" netmask="255.255.255.0"&gt;
    &lt;dhcp&gt;
      &lt;range start="192.168.122.2" end="192.168.122.254"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:2::1" prefix="64"/&gt;
&lt;/network&gt;</pre>
<p>Below is another IPv6 variation. Instead of a dhcp range being specified, this
example has a couple of IPv6 host definitions. Note that most of the dhcp host
definitions use an "id" (client id or DUID) since this has proven to be a more
reliable way of specifying the interface and its association with an IPv6
address. The first is a DUID-LLT, the second a DUID-LL, and the third a
DUID-UUID. <span class="since">Since 1.0.3</span></p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;local6&lt;/name&gt;
  &lt;bridge name="virbr1"/&gt;
  &lt;forward mode="route" dev="eth1"/&gt;
  &lt;ip address="192.168.122.1" netmask="255.255.255.0"&gt;
    &lt;dhcp&gt;
      &lt;range start="192.168.122.2" end="192.168.122.254"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:2::1" prefix="64"&gt;
    &lt;dhcp&gt;
      &lt;host name="paul" ip="2001:db8:ca2:2:3::1"/&gt;
      &lt;host id="0:1:0:1:18:aa:62:fe:0:16:3e:44:55:66" ip="2001:db8:ca2:2:3::2"/&gt;
      &lt;host id="0:3:0:1:0:16:3e:11:22:33" name="ralph" ip="2001:db8:ca2:2:3::3"/&gt;
      &lt;host id="0:4:7e:7d:f0:7d:a8:bc:c5:d2:13:32:11:ed:16:ea:84:63"
        name="badbob" ip="2001:db8:ca2:2:3::4"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;</pre>
<p>Below is yet another IPv6 variation. This variation has only IPv6 defined with
DHCPv6 on the primary IPv6 network. A static link if defined for a second IPv6
network which will not be directly visible on the bridge interface but there
will be a static route defined for this network via the specified gateway. Note
that the gateway address must be directly reachable via (on the same subnet as)
one of the &lt;ip&gt; addresses defined for this &lt;network&gt;. <span class="since">Since 1.0.6</span></p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;net7&lt;/name&gt;
  &lt;bridge name="virbr7"/&gt;
  &lt;forward mode="route"/&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:7::1" prefix="64"&gt;
    &lt;dhcp&gt;
      &lt;range start="2001:db8:ca2:7::100" end="2001:db8:ca2::1ff"/&gt;
      &lt;host id="0:4:7e:7d:f0:7d:a8:bc:c5:d2:13:32:11:ed:16:ea:84:63"
        name="lucas" ip="2001:db8:ca2:2:3::4"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;route family="ipv6" address="2001:db8:ca2:8::" prefix="64" gateway="2001:db8:ca2:7::4"/&gt;
&lt;/network&gt;</pre>
</div>
<div class="section" id="isolated-network-config">
<h2><a class="toc-backref" href="#id15">Isolated network config</a><a class="headerlink" href="#isolated-network-config" title="Link to this headline">¶</a></h2>
<p>This variant provides a completely isolated private network for guests. The
guests can talk to each other, and the host OS, but cannot reach any other
machines on the LAN, due to the omission of the <span class="docutils literal">forward</span> element in the XML
description.</p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;private&lt;/name&gt;
  &lt;bridge name="virbr2"/&gt;
  &lt;ip address="192.168.152.1" netmask="255.255.255.0"&gt;
    &lt;dhcp&gt;
      &lt;range start="192.168.152.2" end="192.168.152.254"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:3::1" prefix="64"/&gt;
&lt;/network&gt;</pre>
</div>
<div class="section" id="isolated-ipv6-network-config">
<h2><a class="toc-backref" href="#id16">Isolated IPv6 network config</a><a class="headerlink" href="#isolated-ipv6-network-config" title="Link to this headline">¶</a></h2>
<p>This variation of an isolated network defines only IPv6. Note that most of the
dhcp host definitions use an "id" (client id or DUID) since this has proven to
be a more reliable way of specifying the interface and its association with an
IPv6 address. The first is a DUID-LLT, the second a DUID-LL, and the third a
DUID-UUID. <span class="since">Since 1.0.3</span></p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;sixnet&lt;/name&gt;
  &lt;bridge name="virbr6"/&gt;
  &lt;ip family="ipv6" address="2001:db8:ca2:6::1" prefix="64"&gt;
    &lt;dhcp&gt;
      &lt;host name="peter" ip="2001:db8:ca2:6:6::1"/&gt;
      &lt;host id="0:1:0:1:18:aa:62:fe:0:16:3e:44:55:66" ip="2001:db8:ca2:6:6::2"/&gt;
      &lt;host id="0:3:0:1:0:16:3e:11:22:33" name="dariusz" ip="2001:db8:ca2:6:6::3"/&gt;
      &lt;host id="0:4:7e:7d:f0:7d:a8:bc:c5:d2:13:32:11:ed:16:ea:84:63"
        name="anita" ip="2001:db8:ca2:6:6::4"/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;</pre>
</div>
<div class="section" id="using-an-existing-host-bridge">
<h2><a class="toc-backref" href="#id17">Using an existing host bridge</a><a class="headerlink" href="#using-an-existing-host-bridge" title="Link to this headline">¶</a></h2>
<p><span class="since">Since 0.9.4</span> This shows how to use a pre-existing host bridge "br0". The
guests will effectively be directly connected to the physical network (i.e.
their IP addresses will all be on the subnet of the physical network, and there
will be no restrictions on inbound or outbound connections).</p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;host-bridge&lt;/name&gt;
  &lt;forward mode="bridge"/&gt;
  &lt;bridge name="br0"/&gt;
&lt;/network&gt;</pre>
</div>
<div class="section" id="using-a-macvtap-direct-connection">
<h2><a class="toc-backref" href="#id18">Using a macvtap "direct" connection</a><a class="headerlink" href="#using-a-macvtap-direct-connection" title="Link to this headline">¶</a></h2>
<p><span class="since">Since 0.9.4, QEMU and KVM only, requires Linux kernel 2.6.34 or newer</span>
This shows how to use macvtap to connect to the physical network directly
through one of a group of physical devices (without using a host bridge device).
As with the host bridge network, the guests will effectively be directly
connected to the physical network so their IP addresses will all be on the
subnet of the physical network, and there will be no restrictions on inbound or
outbound connections. Note that, due to a limitation in the implementation of
macvtap, these connections do not allow communication directly between the host
and the guests - if you require this you will either need the attached physical
switch to be operating in a mirroring mode (so that all traffic coming to the
switch is reflected back to the host's interface), or provide alternate means
for this communication (e.g. a second interface on each guest that is connected
to an isolated network). The other forward modes that use macvtap (private,
vepa, and passthrough) would be used in a similar fashion.</p>
<pre class="literal-block">&lt;network&gt;
  &lt;name&gt;direct-macvtap&lt;/name&gt;
  &lt;forward mode="bridge"&gt;
    &lt;interface dev="eth20"/&gt;
    &lt;interface dev="eth21"/&gt;
    &lt;interface dev="eth22"/&gt;
    &lt;interface dev="eth23"/&gt;
    &lt;interface dev="eth24"/&gt;
  &lt;/forward&gt;
&lt;/network&gt;</pre>
</div>
<div class="section" id="network-config-with-no-gateway-addresses">
<h2><a class="toc-backref" href="#id19">Network config with no gateway addresses</a><a class="headerlink" href="#network-config-with-no-gateway-addresses" title="Link to this headline">¶</a></h2>
<p>A valid network definition can contain no IPv4 or IPv6 addresses. Such a
definition can be used for a "very private" or "very isolated" network since it
will not be possible to communicate with the virtualization host via this
network. However, this virtual network interface can be used for communication
between virtual guest systems. This works for IPv4 and <span class="since">(Since 1.0.1)</span>
IPv6. However, the new ipv6='yes' must be added for guest-to-guest IPv6
communication.</p>
<pre class="literal-block">&lt;network ipv6='yes'&gt;
  &lt;name&gt;nogw&lt;/name&gt;
  &lt;uuid&gt;7a3b7497-1ec7-8aef-6d5c-38dff9109e93&lt;/uuid&gt;
  &lt;bridge name="virbr2" stp="on" delay="0"/&gt;
  &lt;mac address='00:16:3E:5D:C7:9E'/&gt;
&lt;/network&gt;</pre>
</div>
</div>
</div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="downloads.html">Download</a>
          </li>
          <li>
            <a href="contribute.html">Contribute</a>
          </li>
          <li>
            <a href="docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form id="simplesearch" action="https://www.google.com/search" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input id="searchsite" name="sitesearch" type="hidden" value="libvirt.org"/>
            <input id="searchq" name="q" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
        <div id="advancedsearch">
          <span>
            <input type="radio" name="what" id="whatwebsite" checked="checked" value="website"/>
            <label for="whatwebsite">Website</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatwiki" value="wiki"/>
            <label for="whatwiki">Wiki</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatdevs" value="devs"/>
            <label for="whatdevs">Developers list</label>
          </span>
          <span>
            <input type="radio" name="what" id="whatusers" value="users"/>
            <label for="whatusers">Users list</label>
          </span>
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="contact.html#mailing-lists">email</a>
          </li>
          <li>
            <a href="contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="https://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="contribute">
        <h3>Contribute</h3>
        <ul>
          <li>
            <a href="https://gitlab.com/libvirt/libvirt/-/blob/master/docs/formatnetwork.rst">edit this page</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="governance.html#code-of-conduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
